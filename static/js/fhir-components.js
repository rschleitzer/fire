var FHIRComponents=function(e){"use strict";function t(){}function l(e){return e()}function n(){return Object.create(null)}function s(e){e.forEach(l)}function r(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}const i="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function u(e,t){e.appendChild(t)}function a(e,t,l){const n=function(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;if(t&&t.host)return t;return e.ownerDocument}(e);if(!n.getElementById(t)){const e=f("style");e.id=t,e.textContent=l,function(e,t){u(e.head||e,t),t.sheet}(n,e)}}function d(e,t,l){e.insertBefore(t,l||null)}function c(e){e.parentNode&&e.parentNode.removeChild(e)}function v(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function f(e){return document.createElement(e)}function p(e){return document.createTextNode(e)}function m(){return p(" ")}function g(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function b(e){return function(t){return t.preventDefault(),e.call(this,t)}}function h(e,t,l){null==l?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function y(e){return""===e?null:+e}function k(e,t){t=""+t,e.data!==t&&(e.data=t)}function x(e,t){e.value=null==t?"":t}function _(e,t,l){for(let l=0;l<e.options.length;l+=1){const n=e.options[l];if(n.__value===t)return void(n.selected=!0)}l&&void 0===t||(e.selectedIndex=-1)}function w(e){const t=e.querySelector(":checked");return t&&t.__value}let $;function C(e){$=e}const q=[],z=[];let S=[];const T=[],A=Promise.resolve();let D=!1;function E(e){S.push(e)}function P(e){T.push(e)}const N=new Set;let O=0;function R(){if(0!==O)return;const e=$;do{try{for(;O<q.length;){const e=q[O];O++,C(e),U(e.$$)}}catch(e){throw q.length=0,O=0,e}for(C(null),q.length=0,O=0;z.length;)z.pop()();for(let e=0;e<S.length;e+=1){const t=S[e];N.has(t)||(N.add(t),t())}S.length=0}while(q.length);for(;T.length;)T.pop()();D=!1,N.clear(),C(e)}function U(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(E)}}const B=new Set;let j;function M(){j={r:0,c:[],p:j}}function Q(){j.r||s(j.c),j=j.p}function I(e,t){e&&e.i&&(B.delete(e),e.i(t))}function H(e,t,l,n){if(e&&e.o){if(B.has(e))return;B.add(e),j.c.push(()=>{B.delete(e),n&&(l&&e.d(1),n())}),e.o(t)}else n&&n()}function L(e){return void 0!==e?.length?e:Array.from(e)}function F(e,t,l){const n=e.$$.props[t];void 0!==n&&(e.$$.bound[n]=l,l(e.$$.ctx[n]))}function V(e){e&&e.c()}function G(e,t,n){const{fragment:o,after_update:i}=e.$$;o&&o.m(t,n),E(()=>{const t=e.$$.on_mount.map(l).filter(r);e.$$.on_destroy?e.$$.on_destroy.push(...t):s(t),e.$$.on_mount=[]}),i.forEach(E)}function W(e,t){const l=e.$$;null!==l.fragment&&(!function(e){const t=[],l=[];S.forEach(n=>-1===e.indexOf(n)?t.push(n):l.push(n)),l.forEach(e=>e()),S=t}(l.after_update),s(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function J(e,t){-1===e.$$.dirty[0]&&(q.push(e),D||(D=!0,A.then(R)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function K(e,l,r,o,i,u,a=null,d=[-1]){const v=$;C(e);const f=e.$$={fragment:null,ctx:[],props:u,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(v?v.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:l.target||v.$$.root};a&&a(f.root);let p=!1;if(f.ctx=r?r(e,l.props||{},(t,l,...n)=>{const s=n.length?n[0]:l;return f.ctx&&i(f.ctx[t],f.ctx[t]=s)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](s),p&&J(e,t)),l}):[],f.update(),p=!0,s(f.before_update),f.fragment=!!o&&o(f.ctx),l.target){if(l.hydrate){const e=function(e){return Array.from(e.childNodes)}(l.target);f.fragment&&f.fragment.l(e),e.forEach(c)}else f.fragment&&f.fragment.c();l.intro&&I(e.$$.fragment),G(e,l.target,l.anchor),R()}C(v)}class X{$$=void 0;$$set=void 0;$destroy(){W(this,1),this.$destroy=t}$on(e,l){if(!r(l))return t;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const e=n.indexOf(l);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Y(e){a(e,"svelte-p11u53",".fhir-human-name.svelte-p11u53.svelte-p11u53{border:1px solid #ddd;border-radius:4px;margin-bottom:1rem;background:white}.fhir-header.svelte-p11u53.svelte-p11u53{display:flex;align-items:center;gap:0.5rem;padding:0.75rem 1rem;background:#f8f9fa;border-bottom:1px solid #ddd}.collapse-btn.svelte-p11u53.svelte-p11u53{background:none;border:none;cursor:pointer;font-size:0.875rem;padding:0;width:20px;text-align:left}.fhir-label.svelte-p11u53.svelte-p11u53{font-weight:600;margin:0;font-size:0.875rem}.summary.svelte-p11u53.svelte-p11u53{color:#666;font-size:0.875rem;font-style:italic}.required.svelte-p11u53.svelte-p11u53{color:#e74c3c}.fhir-content.svelte-p11u53.svelte-p11u53{padding:1rem}.name-grid.svelte-p11u53.svelte-p11u53{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.span-3.svelte-p11u53.svelte-p11u53{grid-column:span 2}.form-group.svelte-p11u53.svelte-p11u53{margin-bottom:1rem}.form-group.svelte-p11u53>label.svelte-p11u53{display:block;font-weight:500;margin-bottom:0.5rem;font-size:0.875rem;color:#555}.form-group.svelte-p11u53 input.svelte-p11u53,.form-group.svelte-p11u53 select.svelte-p11u53{width:100%;padding:0.5rem;border:1px solid #ddd;border-radius:4px;font-size:0.875rem}.array-item.svelte-p11u53.svelte-p11u53{display:flex;gap:0.5rem;margin-bottom:0.5rem}.array-item.svelte-p11u53 input.svelte-p11u53{flex:1}.btn-remove-sm.svelte-p11u53.svelte-p11u53{background:#e74c3c;color:white;border:none;border-radius:4px;width:32px;height:32px;cursor:pointer;font-size:1.25rem;line-height:1}.btn-remove-sm.svelte-p11u53.svelte-p11u53:hover{background:#c0392b}.btn-add-sm.svelte-p11u53.svelte-p11u53{background:#3498db;color:white;border:none;border-radius:4px;padding:0.4rem 0.75rem;cursor:pointer;font-size:0.75rem;font-weight:500}.btn-add-sm.svelte-p11u53.svelte-p11u53:hover{background:#2980b9}")}function Z(e,t,l){const n=e.slice();return n[21]=t[l],n[22]=t,n[23]=l,n}function ee(e,t,l){const n=e.slice();return n[24]=t[l],n[25]=t,n[23]=l,n}function te(e,t,l){const n=e.slice();return n[26]=t[l],n[27]=t,n[23]=l,n}function le(e){let t;return{c(){t=f("span"),t.textContent="*",h(t,"class","required svelte-p11u53")},m(e,l){d(e,t,l)},d(e){e&&c(t)}}}function ne(e){let t,l;return{c(){t=f("span"),l=p(e[4]),h(t,"class","summary svelte-p11u53")},m(e,n){d(e,t,n),u(t,l)},p(e,t){16&t&&k(l,e[4])},d(e){e&&c(t)}}}function se(e){let t,l,n,r,o,i,a,b,y,k,w,$,C,q,z,S,T,A,D,P,N,O,R,U,B,j,M,Q,I,H,F,V,G,W,J,K,X,Y,le,ne,se,ae,de,ce,ve,fe,pe,me,ge,be,he,ye,ke,xe,_e=e[3]&&re(),we=L(e[0].given),$e=[];for(let t=0;t<we.length;t+=1)$e[t]=oe(te(e,we,t));let Ce=L(e[0].prefix),qe=[];for(let t=0;t<Ce.length;t+=1)qe[t]=ie(ee(e,Ce,t));let ze=L(e[0].suffix),Se=[];for(let t=0;t<ze.length;t+=1)Se[t]=ue(Z(e,ze,t));return{c(){t=f("div"),l=f("div"),n=f("div"),r=f("label"),o=p("Use"),a=m(),b=f("select"),y=f("option"),y.textContent="-- Select --",k=f("option"),k.textContent="Usual",w=f("option"),w.textContent="Official",$=f("option"),$.textContent="Temp",C=f("option"),C.textContent="Nickname",q=f("option"),q.textContent="Anonymous",z=f("option"),z.textContent="Old",S=f("option"),S.textContent="Maiden",A=m(),D=f("div"),P=f("label"),N=p("Text (full name)"),R=m(),U=f("input"),j=m(),M=f("div"),Q=f("label"),I=p("Family Name "),_e&&_e.c(),F=m(),V=f("input"),W=m(),J=f("div"),K=f("label"),K.textContent="Given Names",X=m();for(let e=0;e<$e.length;e+=1)$e[e].c();Y=m(),le=f("button"),le.textContent="+ Add Given Name",ne=m(),se=f("div"),ae=f("div"),de=f("label"),de.textContent="Prefixes",ce=m();for(let e=0;e<qe.length;e+=1)qe[e].c();ve=m(),fe=f("button"),fe.textContent="+ Add Prefix",pe=m(),me=f("div"),ge=f("label"),ge.textContent="Suffixes",be=m();for(let e=0;e<Se.length;e+=1)Se[e].c();he=m(),ye=f("button"),ye.textContent="+ Add Suffix",h(r,"for",i=e[2]+"-use"),h(r,"class","svelte-p11u53"),y.__value="",x(y,y.__value),k.__value="usual",x(k,k.__value),w.__value="official",x(w,w.__value),$.__value="temp",x($,$.__value),C.__value="nickname",x(C,C.__value),q.__value="anonymous",x(q,q.__value),z.__value="old",x(z,z.__value),S.__value="maiden",x(S,S.__value),h(b,"id",T=e[2]+"-use"),h(b,"class","svelte-p11u53"),void 0===e[0].use&&E(()=>e[12].call(b)),h(n,"class","form-group svelte-p11u53"),h(P,"for",O=e[2]+"-text"),h(P,"class","svelte-p11u53"),h(U,"type","text"),h(U,"id",B=e[2]+"-text"),h(U,"placeholder","e.g., Dr. John Q. Public, MD"),h(U,"class","svelte-p11u53"),h(D,"class","form-group span-3 svelte-p11u53"),h(l,"class","name-grid svelte-p11u53"),h(Q,"for",H=e[2]+"-family"),h(Q,"class","svelte-p11u53"),h(V,"type","text"),h(V,"id",G=e[2]+"-family"),h(V,"placeholder","e.g., Smith"),V.required=e[3],h(V,"class","svelte-p11u53"),h(M,"class","form-group svelte-p11u53"),h(K,"class","svelte-p11u53"),h(le,"type","button"),h(le,"class","btn-add-sm svelte-p11u53"),h(J,"class","form-group svelte-p11u53"),h(de,"class","svelte-p11u53"),h(fe,"type","button"),h(fe,"class","btn-add-sm svelte-p11u53"),h(ae,"class","form-group svelte-p11u53"),h(ge,"class","svelte-p11u53"),h(ye,"type","button"),h(ye,"class","btn-add-sm svelte-p11u53"),h(me,"class","form-group svelte-p11u53"),h(se,"class","name-grid svelte-p11u53"),h(t,"class","fhir-content svelte-p11u53")},m(s,i){d(s,t,i),u(t,l),u(l,n),u(n,r),u(r,o),u(n,a),u(n,b),u(b,y),u(b,k),u(b,w),u(b,$),u(b,C),u(b,q),u(b,z),u(b,S),_(b,e[0].use,!0),u(l,A),u(l,D),u(D,P),u(P,N),u(D,R),u(D,U),x(U,e[0].text),u(t,j),u(t,M),u(M,Q),u(Q,I),_e&&_e.m(Q,null),u(M,F),u(M,V),x(V,e[0].family),u(t,W),u(t,J),u(J,K),u(J,X);for(let e=0;e<$e.length;e+=1)$e[e]&&$e[e].m(J,null);u(J,Y),u(J,le),u(t,ne),u(t,se),u(se,ae),u(ae,de),u(ae,ce);for(let e=0;e<qe.length;e+=1)qe[e]&&qe[e].m(ae,null);u(ae,ve),u(ae,fe),u(se,pe),u(se,me),u(me,ge),u(me,be);for(let e=0;e<Se.length;e+=1)Se[e]&&Se[e].m(me,null);u(me,he),u(me,ye),ke||(xe=[g(b,"change",e[12]),g(U,"input",e[13]),g(V,"input",e[14]),g(le,"click",e[6]),g(fe,"click",e[8]),g(ye,"click",e[10])],ke=!0)},p(e,t){if(4&t&&i!==(i=e[2]+"-use")&&h(r,"for",i),4&t&&T!==(T=e[2]+"-use")&&h(b,"id",T),1&t&&_(b,e[0].use),4&t&&O!==(O=e[2]+"-text")&&h(P,"for",O),4&t&&B!==(B=e[2]+"-text")&&h(U,"id",B),1&t&&U.value!==e[0].text&&x(U,e[0].text),e[3]?_e||(_e=re(),_e.c(),_e.m(Q,null)):_e&&(_e.d(1),_e=null),4&t&&H!==(H=e[2]+"-family")&&h(Q,"for",H),4&t&&G!==(G=e[2]+"-family")&&h(V,"id",G),8&t&&(V.required=e[3]),1&t&&V.value!==e[0].family&&x(V,e[0].family),129&t){let l;for(we=L(e[0].given),l=0;l<we.length;l+=1){const n=te(e,we,l);$e[l]?$e[l].p(n,t):($e[l]=oe(n),$e[l].c(),$e[l].m(J,Y))}for(;l<$e.length;l+=1)$e[l].d(1);$e.length=we.length}if(513&t){let l;for(Ce=L(e[0].prefix),l=0;l<Ce.length;l+=1){const n=ee(e,Ce,l);qe[l]?qe[l].p(n,t):(qe[l]=ie(n),qe[l].c(),qe[l].m(ae,ve))}for(;l<qe.length;l+=1)qe[l].d(1);qe.length=Ce.length}if(2049&t){let l;for(ze=L(e[0].suffix),l=0;l<ze.length;l+=1){const n=Z(e,ze,l);Se[l]?Se[l].p(n,t):(Se[l]=ue(n),Se[l].c(),Se[l].m(me,he))}for(;l<Se.length;l+=1)Se[l].d(1);Se.length=ze.length}},d(e){e&&c(t),_e&&_e.d(),v($e,e),v(qe,e),v(Se,e),ke=!1,s(xe)}}}function re(e){let t;return{c(){t=f("span"),t.textContent="*",h(t,"class","required svelte-p11u53")},m(e,l){d(e,t,l)},d(e){e&&c(t)}}}function oe(e){let t,l,n,r,o,i;function a(){e[15].call(l,e[23])}function v(){return e[16](e[23])}return{c(){t=f("div"),l=f("input"),n=m(),r=f("button"),r.textContent="×",h(l,"type","text"),h(l,"placeholder","Given name"),h(l,"class","svelte-p11u53"),h(r,"type","button"),h(r,"class","btn-remove-sm svelte-p11u53"),h(t,"class","array-item svelte-p11u53")},m(s,c){d(s,t,c),u(t,l),x(l,e[0].given[e[23]]),u(t,n),u(t,r),o||(i=[g(l,"input",a),g(r,"click",v)],o=!0)},p(t,n){e=t,1&n&&l.value!==e[0].given[e[23]]&&x(l,e[0].given[e[23]])},d(e){e&&c(t),o=!1,s(i)}}}function ie(e){let t,l,n,r,o,i;function a(){e[17].call(l,e[23])}function v(){return e[18](e[23])}return{c(){t=f("div"),l=f("input"),n=m(),r=f("button"),r.textContent="×",h(l,"type","text"),h(l,"placeholder","e.g., Dr."),h(l,"class","svelte-p11u53"),h(r,"type","button"),h(r,"class","btn-remove-sm svelte-p11u53"),h(t,"class","array-item svelte-p11u53")},m(s,c){d(s,t,c),u(t,l),x(l,e[0].prefix[e[23]]),u(t,n),u(t,r),o||(i=[g(l,"input",a),g(r,"click",v)],o=!0)},p(t,n){e=t,1&n&&l.value!==e[0].prefix[e[23]]&&x(l,e[0].prefix[e[23]])},d(e){e&&c(t),o=!1,s(i)}}}function ue(e){let t,l,n,r,o,i;function a(){e[19].call(l,e[23])}function v(){return e[20](e[23])}return{c(){t=f("div"),l=f("input"),n=m(),r=f("button"),r.textContent="×",h(l,"type","text"),h(l,"placeholder","e.g., MD"),h(l,"class","svelte-p11u53"),h(r,"type","button"),h(r,"class","btn-remove-sm svelte-p11u53"),h(t,"class","array-item svelte-p11u53")},m(s,c){d(s,t,c),u(t,l),x(l,e[0].suffix[e[23]]),u(t,n),u(t,r),o||(i=[g(l,"input",a),g(r,"click",v)],o=!0)},p(t,n){e=t,1&n&&l.value!==e[0].suffix[e[23]]&&x(l,e[0].suffix[e[23]])},d(e){e&&c(t),o=!1,s(i)}}}function ae(e){let l,n,s,r,o,i,a,v,b,y,x,_,w=e[1]?"▶":"▼",$=e[3]&&le(),C=e[1]&&ne(e),q=!e[1]&&se(e);return{c(){l=f("div"),n=f("div"),s=f("button"),r=p(w),o=m(),i=f("label"),a=p(e[2]),v=m(),$&&$.c(),b=m(),C&&C.c(),y=m(),q&&q.c(),h(s,"type","button"),h(s,"class","collapse-btn svelte-p11u53"),h(i,"class","fhir-label svelte-p11u53"),h(n,"class","fhir-header svelte-p11u53"),h(l,"class","fhir-human-name svelte-p11u53")},m(t,c){d(t,l,c),u(l,n),u(n,s),u(s,r),u(n,o),u(n,i),u(i,a),u(i,v),$&&$.m(i,null),u(n,b),C&&C.m(n,null),u(l,y),q&&q.m(l,null),x||(_=g(s,"click",e[5]),x=!0)},p(e,[t]){2&t&&w!==(w=e[1]?"▶":"▼")&&k(r,w),4&t&&k(a,e[2]),e[3]?$||($=le(),$.c(),$.m(i,null)):$&&($.d(1),$=null),e[1]?C?C.p(e,t):(C=ne(e),C.c(),C.m(n,null)):C&&(C.d(1),C=null),e[1]?q&&(q.d(1),q=null):q?q.p(e,t):(q=se(e),q.c(),q.m(l,null))},i:t,o:t,d(e){e&&c(l),$&&$.d(),C&&C.d(),q&&q.d(),x=!1,_()}}}function de(e,t,l){let n,{value:s={use:"",text:"",family:"",given:[],prefix:[],suffix:[]}}=t,{label:r="Human Name"}=t,{required:o=!1}=t,{collapsed:i=!0}=t;function u(e){l(0,s.given=s.given.filter((t,l)=>l!==e),s)}function a(e){l(0,s.prefix=s.prefix.filter((t,l)=>l!==e),s)}function d(e){l(0,s.suffix=s.suffix.filter((t,l)=>l!==e),s)}return e.$$set=e=>{"value"in e&&l(0,s=e.value),"label"in e&&l(2,r=e.label),"required"in e&&l(3,o=e.required),"collapsed"in e&&l(1,i=e.collapsed)},e.$$.update=()=>{1&e.$$.dirty&&l(4,n=s.text||[...s.prefix||[],...s.given||[],s.family,...s.suffix||[]].filter(Boolean).join(" ")||"(empty)")},[s,i,r,o,n,function(){l(1,i=!i)},function(){l(0,s.given=[...s.given,""],s)},u,function(){l(0,s.prefix=[...s.prefix,""],s)},a,function(){l(0,s.suffix=[...s.suffix,""],s)},d,function(){s.use=w(this),l(0,s)},function(){s.text=this.value,l(0,s)},function(){s.family=this.value,l(0,s)},function(e){s.given[e]=this.value,l(0,s)},e=>u(e),function(e){s.prefix[e]=this.value,l(0,s)},e=>a(e),function(e){s.suffix[e]=this.value,l(0,s)},e=>d(e)]}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");class ce extends X{constructor(e){super(),K(this,e,de,ae,o,{value:0,label:2,required:3,collapsed:1},Y)}}function ve(e){a(e,"svelte-1whny6u",".fhir-address.svelte-1whny6u.svelte-1whny6u{border:1px solid #ddd;border-radius:4px;margin-bottom:1rem;background:white}.fhir-header.svelte-1whny6u.svelte-1whny6u{display:flex;align-items:center;gap:0.5rem;padding:0.75rem 1rem;background:#f8f9fa;border-bottom:1px solid #ddd}.collapse-btn.svelte-1whny6u.svelte-1whny6u{background:none;border:none;cursor:pointer;font-size:0.875rem;padding:0;width:20px;text-align:left}.fhir-label.svelte-1whny6u.svelte-1whny6u{font-weight:600;margin:0;font-size:0.875rem}.summary.svelte-1whny6u.svelte-1whny6u{color:#666;font-size:0.875rem;font-style:italic}.required.svelte-1whny6u.svelte-1whny6u{color:#e74c3c}.fhir-content.svelte-1whny6u.svelte-1whny6u{padding:1rem}.address-grid.svelte-1whny6u.svelte-1whny6u{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.address-grid-3.svelte-1whny6u.svelte-1whny6u{display:grid;grid-template-columns:1fr 1fr 1fr;gap:1rem;margin-bottom:1rem}.form-group.svelte-1whny6u.svelte-1whny6u{margin-bottom:1rem}.form-group.svelte-1whny6u>label.svelte-1whny6u{display:block;font-weight:500;margin-bottom:0.5rem;font-size:0.875rem;color:#555}.form-group.svelte-1whny6u input.svelte-1whny6u,.form-group.svelte-1whny6u select.svelte-1whny6u{width:100%;padding:0.5rem;border:1px solid #ddd;border-radius:4px;font-size:0.875rem}.array-item.svelte-1whny6u.svelte-1whny6u{display:flex;gap:0.5rem;margin-bottom:0.5rem}.array-item.svelte-1whny6u input.svelte-1whny6u{flex:1}.btn-remove-sm.svelte-1whny6u.svelte-1whny6u{background:#e74c3c;color:white;border:none;border-radius:4px;width:32px;height:32px;cursor:pointer;font-size:1.25rem;line-height:1}.btn-remove-sm.svelte-1whny6u.svelte-1whny6u:hover{background:#c0392b}.btn-add-sm.svelte-1whny6u.svelte-1whny6u{background:#3498db;color:white;border:none;border-radius:4px;padding:0.4rem 0.75rem;cursor:pointer;font-size:0.75rem;font-weight:500}.btn-add-sm.svelte-1whny6u.svelte-1whny6u:hover{background:#2980b9}")}function fe(e,t,l){const n=e.slice();return n[18]=t[l],n[19]=t,n[20]=l,n}function pe(e){let t;return{c(){t=f("span"),t.textContent="*",h(t,"class","required svelte-1whny6u")},m(e,l){d(e,t,l)},d(e){e&&c(t)}}}function me(e){let t,l;return{c(){t=f("span"),l=p(e[4]),h(t,"class","summary svelte-1whny6u")},m(e,n){d(e,t,n),u(t,l)},p(e,t){16&t&&k(l,e[4])},d(e){e&&c(t)}}}function ge(e){let t,l,n,r,o,i,a,b,y,k,w,$,C,q,z,S,T,A,D,P,N,O,R,U,B,j,M,Q,I,H,F,V,G,W,J,K,X,Y,Z,ee,te,le,ne,se,re,oe,ie,ue,ae,de,ce,ve,pe,me,ge,he,ye,ke,xe,_e,we,$e,Ce,qe,ze,Se,Te,Ae,De,Ee,Pe,Ne,Oe,Re,Ue,Be,je,Me,Qe,Ie,He,Le,Fe,Ve,Ge,We=L(e[0].line),Je=[];for(let t=0;t<We.length;t+=1)Je[t]=be(fe(e,We,t));return{c(){t=f("div"),l=f("div"),n=f("div"),r=f("label"),o=p("Use"),a=m(),b=f("select"),y=f("option"),y.textContent="-- Select --",k=f("option"),k.textContent="Home",w=f("option"),w.textContent="Work",$=f("option"),$.textContent="Temp",C=f("option"),C.textContent="Old",q=f("option"),q.textContent="Billing",S=m(),T=f("div"),A=f("label"),D=p("Type"),N=m(),O=f("select"),R=f("option"),R.textContent="-- Select --",U=f("option"),U.textContent="Postal",B=f("option"),B.textContent="Physical",j=f("option"),j.textContent="Both",Q=m(),I=f("div"),H=f("label"),F=p("Text (full address)"),G=m(),W=f("input"),K=m(),X=f("div"),Y=f("label"),Y.textContent="Street Address Lines",Z=m();for(let e=0;e<Je.length;e+=1)Je[e].c();ee=m(),te=f("button"),te.textContent="+ Add Line",le=m(),ne=f("div"),se=f("div"),re=f("label"),oe=p("City"),ue=m(),ae=f("input"),ce=m(),ve=f("div"),pe=f("label"),me=p("District"),he=m(),ye=f("input"),xe=m(),_e=f("div"),we=f("label"),$e=p("State/Province"),qe=m(),ze=f("input"),Te=m(),Ae=f("div"),De=f("div"),Ee=f("label"),Pe=p("Postal Code"),Oe=m(),Re=f("input"),Be=m(),je=f("div"),Me=f("label"),Qe=p("Country"),He=m(),Le=f("input"),h(r,"for",i=e[2]+"-use"),h(r,"class","svelte-1whny6u"),y.__value="",x(y,y.__value),k.__value="home",x(k,k.__value),w.__value="work",x(w,w.__value),$.__value="temp",x($,$.__value),C.__value="old",x(C,C.__value),q.__value="billing",x(q,q.__value),h(b,"id",z=e[2]+"-use"),h(b,"class","svelte-1whny6u"),void 0===e[0].use&&E(()=>e[8].call(b)),h(n,"class","form-group svelte-1whny6u"),h(A,"for",P=e[2]+"-type"),h(A,"class","svelte-1whny6u"),R.__value="",x(R,R.__value),U.__value="postal",x(U,U.__value),B.__value="physical",x(B,B.__value),j.__value="both",x(j,j.__value),h(O,"id",M=e[2]+"-type"),h(O,"class","svelte-1whny6u"),void 0===e[0].type&&E(()=>e[9].call(O)),h(T,"class","form-group svelte-1whny6u"),h(l,"class","address-grid svelte-1whny6u"),h(H,"for",V=e[2]+"-text"),h(H,"class","svelte-1whny6u"),h(W,"type","text"),h(W,"id",J=e[2]+"-text"),h(W,"placeholder","e.g., 123 Main St, Anytown, ST 12345"),h(W,"class","svelte-1whny6u"),h(I,"class","form-group svelte-1whny6u"),h(Y,"class","svelte-1whny6u"),h(te,"type","button"),h(te,"class","btn-add-sm svelte-1whny6u"),h(X,"class","form-group svelte-1whny6u"),h(re,"for",ie=e[2]+"-city"),h(re,"class","svelte-1whny6u"),h(ae,"type","text"),h(ae,"id",de=e[2]+"-city"),h(ae,"placeholder","e.g., Anytown"),h(ae,"class","svelte-1whny6u"),h(se,"class","form-group svelte-1whny6u"),h(pe,"for",ge=e[2]+"-district"),h(pe,"class","svelte-1whny6u"),h(ye,"type","text"),h(ye,"id",ke=e[2]+"-district"),h(ye,"placeholder","e.g., County"),h(ye,"class","svelte-1whny6u"),h(ve,"class","form-group svelte-1whny6u"),h(we,"for",Ce=e[2]+"-state"),h(we,"class","svelte-1whny6u"),h(ze,"type","text"),h(ze,"id",Se=e[2]+"-state"),h(ze,"placeholder","e.g., CA"),h(ze,"class","svelte-1whny6u"),h(_e,"class","form-group svelte-1whny6u"),h(ne,"class","address-grid-3 svelte-1whny6u"),h(Ee,"for",Ne=e[2]+"-postalCode"),h(Ee,"class","svelte-1whny6u"),h(Re,"type","text"),h(Re,"id",Ue=e[2]+"-postalCode"),h(Re,"placeholder","e.g., 12345"),h(Re,"class","svelte-1whny6u"),h(De,"class","form-group svelte-1whny6u"),h(Me,"for",Ie=e[2]+"-country"),h(Me,"class","svelte-1whny6u"),h(Le,"type","text"),h(Le,"id",Fe=e[2]+"-country"),h(Le,"placeholder","e.g., US"),h(Le,"class","svelte-1whny6u"),h(je,"class","form-group svelte-1whny6u"),h(Ae,"class","address-grid svelte-1whny6u"),h(t,"class","fhir-content svelte-1whny6u")},m(s,i){d(s,t,i),u(t,l),u(l,n),u(n,r),u(r,o),u(n,a),u(n,b),u(b,y),u(b,k),u(b,w),u(b,$),u(b,C),u(b,q),_(b,e[0].use,!0),u(l,S),u(l,T),u(T,A),u(A,D),u(T,N),u(T,O),u(O,R),u(O,U),u(O,B),u(O,j),_(O,e[0].type,!0),u(t,Q),u(t,I),u(I,H),u(H,F),u(I,G),u(I,W),x(W,e[0].text),u(t,K),u(t,X),u(X,Y),u(X,Z);for(let e=0;e<Je.length;e+=1)Je[e]&&Je[e].m(X,null);u(X,ee),u(X,te),u(t,le),u(t,ne),u(ne,se),u(se,re),u(re,oe),u(se,ue),u(se,ae),x(ae,e[0].city),u(ne,ce),u(ne,ve),u(ve,pe),u(pe,me),u(ve,he),u(ve,ye),x(ye,e[0].district),u(ne,xe),u(ne,_e),u(_e,we),u(we,$e),u(_e,qe),u(_e,ze),x(ze,e[0].state),u(t,Te),u(t,Ae),u(Ae,De),u(De,Ee),u(Ee,Pe),u(De,Oe),u(De,Re),x(Re,e[0].postalCode),u(Ae,Be),u(Ae,je),u(je,Me),u(Me,Qe),u(je,He),u(je,Le),x(Le,e[0].country),Ve||(Ge=[g(b,"change",e[8]),g(O,"change",e[9]),g(W,"input",e[10]),g(te,"click",e[6]),g(ae,"input",e[13]),g(ye,"input",e[14]),g(ze,"input",e[15]),g(Re,"input",e[16]),g(Le,"input",e[17])],Ve=!0)},p(e,t){if(4&t&&i!==(i=e[2]+"-use")&&h(r,"for",i),4&t&&z!==(z=e[2]+"-use")&&h(b,"id",z),1&t&&_(b,e[0].use),4&t&&P!==(P=e[2]+"-type")&&h(A,"for",P),4&t&&M!==(M=e[2]+"-type")&&h(O,"id",M),1&t&&_(O,e[0].type),4&t&&V!==(V=e[2]+"-text")&&h(H,"for",V),4&t&&J!==(J=e[2]+"-text")&&h(W,"id",J),1&t&&W.value!==e[0].text&&x(W,e[0].text),129&t){let l;for(We=L(e[0].line),l=0;l<We.length;l+=1){const n=fe(e,We,l);Je[l]?Je[l].p(n,t):(Je[l]=be(n),Je[l].c(),Je[l].m(X,ee))}for(;l<Je.length;l+=1)Je[l].d(1);Je.length=We.length}4&t&&ie!==(ie=e[2]+"-city")&&h(re,"for",ie),4&t&&de!==(de=e[2]+"-city")&&h(ae,"id",de),1&t&&ae.value!==e[0].city&&x(ae,e[0].city),4&t&&ge!==(ge=e[2]+"-district")&&h(pe,"for",ge),4&t&&ke!==(ke=e[2]+"-district")&&h(ye,"id",ke),1&t&&ye.value!==e[0].district&&x(ye,e[0].district),4&t&&Ce!==(Ce=e[2]+"-state")&&h(we,"for",Ce),4&t&&Se!==(Se=e[2]+"-state")&&h(ze,"id",Se),1&t&&ze.value!==e[0].state&&x(ze,e[0].state),4&t&&Ne!==(Ne=e[2]+"-postalCode")&&h(Ee,"for",Ne),4&t&&Ue!==(Ue=e[2]+"-postalCode")&&h(Re,"id",Ue),1&t&&Re.value!==e[0].postalCode&&x(Re,e[0].postalCode),4&t&&Ie!==(Ie=e[2]+"-country")&&h(Me,"for",Ie),4&t&&Fe!==(Fe=e[2]+"-country")&&h(Le,"id",Fe),1&t&&Le.value!==e[0].country&&x(Le,e[0].country)},d(e){e&&c(t),v(Je,e),Ve=!1,s(Ge)}}}function be(e){let t,l,n,r,o,i;function a(){e[11].call(l,e[20])}function v(){return e[12](e[20])}return{c(){t=f("div"),l=f("input"),n=m(),r=f("button"),r.textContent="×",h(l,"type","text"),h(l,"placeholder","Address line "+(e[20]+1)),h(l,"class","svelte-1whny6u"),h(r,"type","button"),h(r,"class","btn-remove-sm svelte-1whny6u"),h(t,"class","array-item svelte-1whny6u")},m(s,c){d(s,t,c),u(t,l),x(l,e[0].line[e[20]]),u(t,n),u(t,r),o||(i=[g(l,"input",a),g(r,"click",v)],o=!0)},p(t,n){e=t,1&n&&l.value!==e[0].line[e[20]]&&x(l,e[0].line[e[20]])},d(e){e&&c(t),o=!1,s(i)}}}function he(e){let l,n,s,r,o,i,a,v,b,y,x,_,w=e[1]?"▶":"▼",$=e[3]&&pe(),C=e[1]&&me(e),q=!e[1]&&ge(e);return{c(){l=f("div"),n=f("div"),s=f("button"),r=p(w),o=m(),i=f("label"),a=p(e[2]),v=m(),$&&$.c(),b=m(),C&&C.c(),y=m(),q&&q.c(),h(s,"type","button"),h(s,"class","collapse-btn svelte-1whny6u"),h(i,"class","fhir-label svelte-1whny6u"),h(n,"class","fhir-header svelte-1whny6u"),h(l,"class","fhir-address svelte-1whny6u")},m(t,c){d(t,l,c),u(l,n),u(n,s),u(s,r),u(n,o),u(n,i),u(i,a),u(i,v),$&&$.m(i,null),u(n,b),C&&C.m(n,null),u(l,y),q&&q.m(l,null),x||(_=g(s,"click",e[5]),x=!0)},p(e,[t]){2&t&&w!==(w=e[1]?"▶":"▼")&&k(r,w),4&t&&k(a,e[2]),e[3]?$||($=pe(),$.c(),$.m(i,null)):$&&($.d(1),$=null),e[1]?C?C.p(e,t):(C=me(e),C.c(),C.m(n,null)):C&&(C.d(1),C=null),e[1]?q&&(q.d(1),q=null):q?q.p(e,t):(q=ge(e),q.c(),q.m(l,null))},i:t,o:t,d(e){e&&c(l),$&&$.d(),C&&C.d(),q&&q.d(),x=!1,_()}}}function ye(e,t,l){let n,{value:s={use:"",type:"",text:"",line:[],city:"",district:"",state:"",postalCode:"",country:""}}=t,{label:r="Address"}=t,{required:o=!1}=t,{collapsed:i=!0}=t;function u(e){l(0,s.line=s.line.filter((t,l)=>l!==e),s)}return e.$$set=e=>{"value"in e&&l(0,s=e.value),"label"in e&&l(2,r=e.label),"required"in e&&l(3,o=e.required),"collapsed"in e&&l(1,i=e.collapsed)},e.$$.update=()=>{1&e.$$.dirty&&l(4,n=s.text||[...s.line||[],s.city,s.state,s.postalCode,s.country].filter(Boolean).join(", ")||"(empty)")},[s,i,r,o,n,function(){l(1,i=!i)},function(){l(0,s.line=[...s.line,""],s)},u,function(){s.use=w(this),l(0,s)},function(){s.type=w(this),l(0,s)},function(){s.text=this.value,l(0,s)},function(e){s.line[e]=this.value,l(0,s)},e=>u(e),function(){s.city=this.value,l(0,s)},function(){s.district=this.value,l(0,s)},function(){s.state=this.value,l(0,s)},function(){s.postalCode=this.value,l(0,s)},function(){s.country=this.value,l(0,s)}]}class ke extends X{constructor(e){super(),K(this,e,ye,he,o,{value:0,label:2,required:3,collapsed:1},ve)}}function xe(e){a(e,"svelte-1eg5558",".fhir-contact-point.svelte-1eg5558.svelte-1eg5558{padding:0.75rem;background:#fafafa;border-radius:4px;margin-bottom:0.5rem}.contact-grid.svelte-1eg5558.svelte-1eg5558{display:grid;grid-template-columns:1fr 2fr 1fr 0.5fr;gap:0.75rem;align-items:end}.span-2.svelte-1eg5558.svelte-1eg5558{grid-column:span 1}.form-group.svelte-1eg5558>label.svelte-1eg5558{display:block;font-weight:500;margin-bottom:0.25rem;font-size:0.75rem;color:#555}.form-group.svelte-1eg5558 input.svelte-1eg5558,.form-group.svelte-1eg5558 select.svelte-1eg5558{width:100%;padding:0.5rem;border:1px solid #ddd;border-radius:4px;font-size:0.875rem}.required.svelte-1eg5558.svelte-1eg5558{color:#e74c3c}")}function _e(e){let t;return{c(){t=f("span"),t.textContent="*",h(t,"class","required svelte-1eg5558")},m(e,l){d(e,t,l)},d(e){e&&c(t)}}}function we(e){let l,n,r,o,i,a,v,b,k,w,$,C,q,z,S,T,A,D,P,N,O,R,U,B,j,M,Q,I,H,L,F,V,G,W,J,K,X,Y,Z,ee,te,le,ne,se,re,oe,ie,ue,ae,de=e[2]&&_e();return{c(){l=f("div"),n=f("div"),r=f("div"),o=f("label"),i=p("System"),v=m(),b=f("select"),k=f("option"),k.textContent="-- Select --",w=f("option"),w.textContent="Phone",$=f("option"),$.textContent="Fax",C=f("option"),C.textContent="Email",q=f("option"),q.textContent="Pager",z=f("option"),z.textContent="URL",S=f("option"),S.textContent="SMS",T=f("option"),T.textContent="Other",D=m(),P=f("div"),N=f("label"),O=p("Value "),de&&de.c(),U=m(),B=f("input"),M=m(),Q=f("div"),I=f("label"),H=p("Use"),F=m(),V=f("select"),G=f("option"),G.textContent="-- Select --",W=f("option"),W.textContent="Home",J=f("option"),J.textContent="Work",K=f("option"),K.textContent="Temp",X=f("option"),X.textContent="Old",Y=f("option"),Y.textContent="Mobile",ee=m(),te=f("div"),le=f("label"),ne=p("Rank"),re=m(),oe=f("input"),h(o,"for",a=e[1]+"-system"),h(o,"class","svelte-1eg5558"),k.__value="",x(k,k.__value),w.__value="phone",x(w,w.__value),$.__value="fax",x($,$.__value),C.__value="email",x(C,C.__value),q.__value="pager",x(q,q.__value),z.__value="url",x(z,z.__value),S.__value="sms",x(S,S.__value),T.__value="other",x(T,T.__value),h(b,"id",A=e[1]+"-system"),h(b,"class","svelte-1eg5558"),void 0===e[0].system&&E(()=>e[3].call(b)),h(r,"class","form-group svelte-1eg5558"),h(N,"for",R=e[1]+"-value"),h(N,"class","svelte-1eg5558"),h(B,"type","text"),h(B,"id",j=e[1]+"-value"),h(B,"placeholder","e.g., (555) 123-4567 or email@example.com"),B.required=e[2],h(B,"class","svelte-1eg5558"),h(P,"class","form-group span-2 svelte-1eg5558"),h(I,"for",L=e[1]+"-use"),h(I,"class","svelte-1eg5558"),G.__value="",x(G,G.__value),W.__value="home",x(W,W.__value),J.__value="work",x(J,J.__value),K.__value="temp",x(K,K.__value),X.__value="old",x(X,X.__value),Y.__value="mobile",x(Y,Y.__value),h(V,"id",Z=e[1]+"-use"),h(V,"class","svelte-1eg5558"),void 0===e[0].use&&E(()=>e[5].call(V)),h(Q,"class","form-group svelte-1eg5558"),h(le,"for",se=e[1]+"-rank"),h(le,"class","svelte-1eg5558"),h(oe,"type","number"),h(oe,"id",ie=e[1]+"-rank"),h(oe,"min","1"),h(oe,"placeholder","Priority"),h(oe,"class","svelte-1eg5558"),h(te,"class","form-group svelte-1eg5558"),h(n,"class","contact-grid svelte-1eg5558"),h(l,"class","fhir-contact-point svelte-1eg5558")},m(t,s){d(t,l,s),u(l,n),u(n,r),u(r,o),u(o,i),u(r,v),u(r,b),u(b,k),u(b,w),u(b,$),u(b,C),u(b,q),u(b,z),u(b,S),u(b,T),_(b,e[0].system,!0),u(n,D),u(n,P),u(P,N),u(N,O),de&&de.m(N,null),u(P,U),u(P,B),x(B,e[0].value),u(n,M),u(n,Q),u(Q,I),u(I,H),u(Q,F),u(Q,V),u(V,G),u(V,W),u(V,J),u(V,K),u(V,X),u(V,Y),_(V,e[0].use,!0),u(n,ee),u(n,te),u(te,le),u(le,ne),u(te,re),u(te,oe),x(oe,e[0].rank),ue||(ae=[g(b,"change",e[3]),g(B,"input",e[4]),g(V,"change",e[5]),g(oe,"input",e[6])],ue=!0)},p(e,[t]){2&t&&a!==(a=e[1]+"-system")&&h(o,"for",a),2&t&&A!==(A=e[1]+"-system")&&h(b,"id",A),1&t&&_(b,e[0].system),e[2]?de||(de=_e(),de.c(),de.m(N,null)):de&&(de.d(1),de=null),2&t&&R!==(R=e[1]+"-value")&&h(N,"for",R),2&t&&j!==(j=e[1]+"-value")&&h(B,"id",j),4&t&&(B.required=e[2]),1&t&&B.value!==e[0].value&&x(B,e[0].value),2&t&&L!==(L=e[1]+"-use")&&h(I,"for",L),2&t&&Z!==(Z=e[1]+"-use")&&h(V,"id",Z),1&t&&_(V,e[0].use),2&t&&se!==(se=e[1]+"-rank")&&h(le,"for",se),2&t&&ie!==(ie=e[1]+"-rank")&&h(oe,"id",ie),1&t&&y(oe.value)!==e[0].rank&&x(oe,e[0].rank)},i:t,o:t,d(e){e&&c(l),de&&de.d(),ue=!1,s(ae)}}}function $e(e,t,l){let{value:n={system:"",value:"",use:"",rank:null}}=t,{label:s="Contact Point"}=t,{required:r=!1}=t;return e.$$set=e=>{"value"in e&&l(0,n=e.value),"label"in e&&l(1,s=e.label),"required"in e&&l(2,r=e.required)},e.$$.update=()=>{1&e.$$.dirty&&n.value},[n,s,r,function(){n.system=w(this),l(0,n)},function(){n.value=this.value,l(0,n)},function(){n.use=w(this),l(0,n)},function(){n.rank=y(this.value),l(0,n)}]}class Ce extends X{constructor(e){super(),K(this,e,$e,we,o,{value:0,label:1,required:2},xe)}}function qe(e){a(e,"svelte-h3t5h2",'.fhir-coding.svelte-h3t5h2.svelte-h3t5h2{padding:0.75rem;background:#fafafa;border-radius:4px;margin-bottom:0.5rem}.coding-grid.svelte-h3t5h2.svelte-h3t5h2{display:grid;grid-template-columns:2fr 1fr 2fr 1fr;gap:0.75rem;align-items:end}.span-2.svelte-h3t5h2.svelte-h3t5h2{grid-column:span 2}.form-group.svelte-h3t5h2>label.svelte-h3t5h2{display:block;font-weight:500;margin-bottom:0.25rem;font-size:0.75rem;color:#555}.form-group.svelte-h3t5h2 input[type="text"].svelte-h3t5h2,.form-group.svelte-h3t5h2 input[type="url"].svelte-h3t5h2{width:100%;padding:0.5rem;border:1px solid #ddd;border-radius:4px;font-size:0.875rem}.form-group.svelte-h3t5h2 input[type="checkbox"].svelte-h3t5h2{margin-right:0.5rem}.required.svelte-h3t5h2.svelte-h3t5h2{color:#e74c3c}')}function ze(e){let t;return{c(){t=f("span"),t.textContent="*",h(t,"class","required svelte-h3t5h2")},m(e,l){d(e,t,l)},d(e){e&&c(t)}}}function Se(e){let l,n,r,o,i,a,v,b,y,k,_,w,$,C,q,z,S,T,A,D,E,P,N,O,R,U,B,j,M,Q,I,H,L,F,V,G,W,J,K,X,Y,Z,ee=e[2]&&ze();return{c(){l=f("div"),n=f("div"),r=f("div"),o=f("label"),i=p("System"),v=m(),b=f("input"),k=m(),_=f("div"),w=f("label"),$=p("Code "),ee&&ee.c(),q=m(),z=f("input"),T=m(),A=f("div"),D=f("label"),E=p("Display"),N=m(),O=f("input"),U=m(),B=f("div"),j=f("label"),M=p("Version"),I=m(),H=f("input"),F=m(),V=f("div"),G=f("label"),W=f("input"),K=p("\n        User Selected"),h(o,"for",a=e[1]+"-system"),h(o,"class","svelte-h3t5h2"),h(b,"type","url"),h(b,"id",y=e[1]+"-system"),h(b,"placeholder","http://loinc.org"),b.required=e[2],h(b,"class","svelte-h3t5h2"),h(r,"class","form-group svelte-h3t5h2"),h(w,"for",C=e[1]+"-code"),h(w,"class","svelte-h3t5h2"),h(z,"type","text"),h(z,"id",S=e[1]+"-code"),h(z,"placeholder","29463-7"),z.required=e[2],h(z,"class","svelte-h3t5h2"),h(_,"class","form-group svelte-h3t5h2"),h(D,"for",P=e[1]+"-display"),h(D,"class","svelte-h3t5h2"),h(O,"type","text"),h(O,"id",R=e[1]+"-display"),h(O,"placeholder","Body weight"),h(O,"class","svelte-h3t5h2"),h(A,"class","form-group span-2 svelte-h3t5h2"),h(j,"for",Q=e[1]+"-version"),h(j,"class","svelte-h3t5h2"),h(H,"type","text"),h(H,"id",L=e[1]+"-version"),h(H,"placeholder","2.73"),h(H,"class","svelte-h3t5h2"),h(B,"class","form-group svelte-h3t5h2"),h(W,"type","checkbox"),h(W,"id",J=e[1]+"-userSelected"),h(W,"class","svelte-h3t5h2"),h(G,"for",X=e[1]+"-userSelected"),h(G,"class","svelte-h3t5h2"),h(V,"class","form-group svelte-h3t5h2"),h(n,"class","coding-grid svelte-h3t5h2"),h(l,"class","fhir-coding svelte-h3t5h2")},m(t,s){d(t,l,s),u(l,n),u(n,r),u(r,o),u(o,i),u(r,v),u(r,b),x(b,e[0].system),u(n,k),u(n,_),u(_,w),u(w,$),ee&&ee.m(w,null),u(_,q),u(_,z),x(z,e[0].code),u(n,T),u(n,A),u(A,D),u(D,E),u(A,N),u(A,O),x(O,e[0].display),u(n,U),u(n,B),u(B,j),u(j,M),u(B,I),u(B,H),x(H,e[0].version),u(n,F),u(n,V),u(V,G),u(G,W),W.checked=e[0].userSelected,u(G,K),Y||(Z=[g(b,"input",e[3]),g(z,"input",e[4]),g(O,"input",e[5]),g(H,"input",e[6]),g(W,"change",e[7])],Y=!0)},p(e,[t]){2&t&&a!==(a=e[1]+"-system")&&h(o,"for",a),2&t&&y!==(y=e[1]+"-system")&&h(b,"id",y),4&t&&(b.required=e[2]),1&t&&b.value!==e[0].system&&x(b,e[0].system),e[2]?ee||(ee=ze(),ee.c(),ee.m(w,null)):ee&&(ee.d(1),ee=null),2&t&&C!==(C=e[1]+"-code")&&h(w,"for",C),2&t&&S!==(S=e[1]+"-code")&&h(z,"id",S),4&t&&(z.required=e[2]),1&t&&z.value!==e[0].code&&x(z,e[0].code),2&t&&P!==(P=e[1]+"-display")&&h(D,"for",P),2&t&&R!==(R=e[1]+"-display")&&h(O,"id",R),1&t&&O.value!==e[0].display&&x(O,e[0].display),2&t&&Q!==(Q=e[1]+"-version")&&h(j,"for",Q),2&t&&L!==(L=e[1]+"-version")&&h(H,"id",L),1&t&&H.value!==e[0].version&&x(H,e[0].version),2&t&&J!==(J=e[1]+"-userSelected")&&h(W,"id",J),1&t&&(W.checked=e[0].userSelected),2&t&&X!==(X=e[1]+"-userSelected")&&h(G,"for",X)},i:t,o:t,d(e){e&&c(l),ee&&ee.d(),Y=!1,s(Z)}}}function Te(e,t,l){let{value:n={system:"",version:"",code:"",display:"",userSelected:!1}}=t,{label:s="Coding"}=t,{required:r=!1}=t;return e.$$set=e=>{"value"in e&&l(0,n=e.value),"label"in e&&l(1,s=e.label),"required"in e&&l(2,r=e.required)},e.$$.update=()=>{1&e.$$.dirty&&(n.display||n.code)},[n,s,r,function(){n.system=this.value,l(0,n)},function(){n.code=this.value,l(0,n)},function(){n.display=this.value,l(0,n)},function(){n.version=this.value,l(0,n)},function(){n.userSelected=this.checked,l(0,n)}]}class Ae extends X{constructor(e){super(),K(this,e,Te,Se,o,{value:0,label:1,required:2},qe)}}function De(e){a(e,"svelte-1rbrvif",".fhir-codeable-concept.svelte-1rbrvif.svelte-1rbrvif{border:1px solid #ddd;border-radius:4px;margin-bottom:1rem;background:white}.fhir-header.svelte-1rbrvif.svelte-1rbrvif{display:flex;align-items:center;gap:0.5rem;padding:0.75rem 1rem;background:#f8f9fa;border-bottom:1px solid #ddd}.collapse-btn.svelte-1rbrvif.svelte-1rbrvif{background:none;border:none;cursor:pointer;font-size:0.875rem;padding:0;width:20px;text-align:left}.fhir-label.svelte-1rbrvif.svelte-1rbrvif{font-weight:600;margin:0;font-size:0.875rem}.summary.svelte-1rbrvif.svelte-1rbrvif{color:#666;font-size:0.875rem;font-style:italic}.required.svelte-1rbrvif.svelte-1rbrvif{color:#e74c3c}.fhir-content.svelte-1rbrvif.svelte-1rbrvif{padding:1rem}.form-group.svelte-1rbrvif.svelte-1rbrvif{margin-bottom:1rem}.form-group.svelte-1rbrvif>label.svelte-1rbrvif{display:block;font-weight:500;margin-bottom:0.5rem;font-size:0.875rem;color:#555}.form-group.svelte-1rbrvif input.svelte-1rbrvif{width:100%;padding:0.5rem;border:1px solid #ddd;border-radius:4px;font-size:0.875rem}.coding-item.svelte-1rbrvif.svelte-1rbrvif{position:relative;margin-bottom:0.75rem}.btn-remove.svelte-1rbrvif.svelte-1rbrvif{background:#e74c3c;color:white;border:none;border-radius:4px;width:32px;height:32px;cursor:pointer;font-size:1.25rem;line-height:1}.btn-remove.svelte-1rbrvif.svelte-1rbrvif:hover{background:#c0392b}.btn-add.svelte-1rbrvif.svelte-1rbrvif{background:#3498db;color:white;border:none;border-radius:4px;padding:0.5rem 1rem;cursor:pointer;font-size:0.875rem;font-weight:500}.btn-add.svelte-1rbrvif.svelte-1rbrvif:hover{background:#2980b9}")}function Ee(e,t,l){const n=e.slice();return n[11]=t[l],n[12]=t,n[13]=l,n}function Pe(e){let t;return{c(){t=f("span"),t.textContent="*",h(t,"class","required svelte-1rbrvif")},m(e,l){d(e,t,l)},d(e){e&&c(t)}}}function Ne(e){let t,l;return{c(){t=f("span"),l=p(e[4]),h(t,"class","summary svelte-1rbrvif")},m(e,n){d(e,t,n),u(t,l)},p(e,t){16&t&&k(l,e[4])},d(e){e&&c(t)}}}function Oe(e){let t,l,n,r,o,i,a,b,y,k,_,w,$,C,q,z,S,T=L(e[0].coding),A=[];for(let t=0;t<T.length;t+=1)A[t]=Re(Ee(e,T,t));const D=e=>H(A[e],1,1,()=>{A[e]=null});return{c(){t=f("div"),l=f("div"),n=f("label"),r=p("Text"),i=m(),a=f("input"),y=m(),k=f("div"),_=f("label"),_.textContent="Codings",w=m();for(let e=0;e<A.length;e+=1)A[e].c();$=m(),C=f("button"),C.textContent="+ Add Coding",h(n,"for",o=e[2]+"-text"),h(n,"class","svelte-1rbrvif"),h(a,"type","text"),h(a,"id",b=e[2]+"-text"),h(a,"placeholder","Human-readable text"),h(a,"class","svelte-1rbrvif"),h(l,"class","form-group svelte-1rbrvif"),h(_,"class","svelte-1rbrvif"),h(C,"type","button"),h(C,"class","btn-add svelte-1rbrvif"),h(k,"class","form-group svelte-1rbrvif"),h(t,"class","fhir-content svelte-1rbrvif")},m(s,o){d(s,t,o),u(t,l),u(l,n),u(n,r),u(l,i),u(l,a),x(a,e[0].text),u(t,y),u(t,k),u(k,_),u(k,w);for(let e=0;e<A.length;e+=1)A[e]&&A[e].m(k,null);u(k,$),u(k,C),q=!0,z||(S=[g(a,"input",e[8]),g(C,"click",e[5])],z=!0)},p(e,t){if((!q||4&t&&o!==(o=e[2]+"-text"))&&h(n,"for",o),(!q||4&t&&b!==(b=e[2]+"-text"))&&h(a,"id",b),1&t&&a.value!==e[0].text&&x(a,e[0].text),65&t){let l;for(T=L(e[0].coding),l=0;l<T.length;l+=1){const n=Ee(e,T,l);A[l]?(A[l].p(n,t),I(A[l],1)):(A[l]=Re(n),A[l].c(),I(A[l],1),A[l].m(k,$))}for(M(),l=T.length;l<A.length;l+=1)D(l);Q()}},i(e){if(!q){for(let e=0;e<T.length;e+=1)I(A[e]);q=!0}},o(e){A=A.filter(Boolean);for(let e=0;e<A.length;e+=1)H(A[e]);q=!1},d(e){e&&c(t),v(A,e),z=!1,s(S)}}}function Re(e){let t,l,n,s,r,o,i,a;function v(t){e[9](t,e[13])}let p={label:"Coding "+(e[13]+1)};function b(){return e[10](e[13])}return void 0!==e[0].coding[e[13]]&&(p.value=e[0].coding[e[13]]),l=new Ae({props:p}),z.push(()=>F(l,"value",v)),{c(){t=f("div"),V(l.$$.fragment),s=m(),r=f("button"),r.textContent="× Remove",h(r,"type","button"),h(r,"class","btn-remove svelte-1rbrvif"),h(r,"title","Remove coding"),h(t,"class","coding-item svelte-1rbrvif")},m(e,n){d(e,t,n),G(l,t,null),u(t,s),u(t,r),o=!0,i||(a=g(r,"click",b),i=!0)},p(t,s){e=t;const r={};!n&&1&s&&(n=!0,r.value=e[0].coding[e[13]],P(()=>n=!1)),l.$set(r)},i(e){o||(I(l.$$.fragment,e),o=!0)},o(e){H(l.$$.fragment,e),o=!1},d(e){e&&c(t),W(l),i=!1,a()}}}function Ue(e){let t,l,n,s,r,o,i,a,v,b,y,x,_,w=e[1]?"▶":"▼",$=e[3]&&Pe(),C=e[1]&&Ne(e),q=!e[1]&&Oe(e);return{c(){t=f("div"),l=f("div"),n=f("button"),s=p(w),r=m(),o=f("label"),i=p(e[2]),a=m(),$&&$.c(),v=m(),C&&C.c(),b=m(),q&&q.c(),h(n,"type","button"),h(n,"class","collapse-btn svelte-1rbrvif"),h(o,"class","fhir-label svelte-1rbrvif"),h(l,"class","fhir-header svelte-1rbrvif"),h(t,"class","fhir-codeable-concept svelte-1rbrvif")},m(c,f){d(c,t,f),u(t,l),u(l,n),u(n,s),u(l,r),u(l,o),u(o,i),u(o,a),$&&$.m(o,null),u(l,v),C&&C.m(l,null),u(t,b),q&&q.m(t,null),y=!0,x||(_=g(n,"click",e[7]),x=!0)},p(e,[n]){(!y||2&n)&&w!==(w=e[1]?"▶":"▼")&&k(s,w),(!y||4&n)&&k(i,e[2]),e[3]?$||($=Pe(),$.c(),$.m(o,null)):$&&($.d(1),$=null),e[1]?C?C.p(e,n):(C=Ne(e),C.c(),C.m(l,null)):C&&(C.d(1),C=null),e[1]?q&&(M(),H(q,1,1,()=>{q=null}),Q()):q?(q.p(e,n),2&n&&I(q,1)):(q=Oe(e),q.c(),I(q,1),q.m(t,null))},i(e){y||(I(q),y=!0)},o(e){H(q),y=!1},d(e){e&&c(t),$&&$.d(),C&&C.d(),q&&q.d(),x=!1,_()}}}function Be(e,t,l){let n,{value:s={text:"",coding:[]}}=t,{label:r="Codeable Concept"}=t,{required:o=!1}=t,{collapsed:i=!0}=t;function u(e){l(0,s.coding=s.coding.filter((t,l)=>l!==e),s)}return e.$$set=e=>{"value"in e&&l(0,s=e.value),"label"in e&&l(2,r=e.label),"required"in e&&l(3,o=e.required),"collapsed"in e&&l(1,i=e.collapsed)},e.$$.update=()=>{1&e.$$.dirty&&l(4,n=s.text||s.coding?.[0]?.display||s.coding?.[0]?.code||"(empty)")},[s,i,r,o,n,function(){l(0,s.coding=[...s.coding,{system:"",version:"",code:"",display:"",userSelected:!1}],s),l(1,i=!1)},u,function(){l(1,i=!i)},function(){s.text=this.value,l(0,s)},function(t,n){e.$$.not_equal(s.coding[n],t)&&(s.coding[n]=t,l(0,s))},e=>u(e)]}class je extends X{constructor(e){super(),K(this,e,Be,Ue,o,{value:0,label:2,required:3,collapsed:1},De)}}function Me(e){a(e,"svelte-1b109p5",".fhir-identifier.svelte-1b109p5.svelte-1b109p5{padding:0.75rem;background:#fafafa;border-radius:4px;margin-bottom:0.5rem}.id-grid.svelte-1b109p5.svelte-1b109p5{display:grid;grid-template-columns:1fr 2fr 1fr;gap:0.75rem;align-items:end;margin-bottom:0.75rem}.form-group.svelte-1b109p5>label.svelte-1b109p5{display:block;font-weight:500;margin-bottom:0.25rem;font-size:0.75rem;color:#555}.form-group.svelte-1b109p5 input.svelte-1b109p5,.form-group.svelte-1b109p5 select.svelte-1b109p5{width:100%;padding:0.5rem;border:1px solid #ddd;border-radius:4px;font-size:0.875rem}.required.svelte-1b109p5.svelte-1b109p5{color:#e74c3c}")}function Qe(e){let t;return{c(){t=f("span"),t.textContent="*",h(t,"class","required svelte-1b109p5")},m(e,l){d(e,t,l)},d(e){e&&c(t)}}}function Ie(e){let t,l,n,r,o,i,a,v,b,y,k,w,$,C,q,S,T,A,D,N,O,R,U,B,j,M,Q,L,J,K,X,Y,Z,ee,te,le,ne,se=e[2]&&Qe();function re(t){e[6](t)}let oe={label:"Type",collapsed:!0};return void 0!==e[0].type&&(oe.value=e[0].type),Z=new je({props:oe}),z.push(()=>F(Z,"value",re)),{c(){t=f("div"),l=f("div"),n=f("div"),r=f("label"),o=p("Use"),a=m(),v=f("select"),b=f("option"),b.textContent="-- Select --",y=f("option"),y.textContent="Usual",k=f("option"),k.textContent="Official",w=f("option"),w.textContent="Temp",$=f("option"),$.textContent="Secondary",C=f("option"),C.textContent="Old",S=m(),T=f("div"),A=f("label"),D=p("System"),O=m(),R=f("input"),B=m(),j=f("div"),M=f("label"),Q=p("Value "),se&&se.c(),J=m(),K=f("input"),Y=m(),V(Z.$$.fragment),h(r,"for",i=e[1]+"-use"),h(r,"class","svelte-1b109p5"),b.__value="",x(b,b.__value),y.__value="usual",x(y,y.__value),k.__value="official",x(k,k.__value),w.__value="temp",x(w,w.__value),$.__value="secondary",x($,$.__value),C.__value="old",x(C,C.__value),h(v,"id",q=e[1]+"-use"),h(v,"class","svelte-1b109p5"),void 0===e[0].use&&E(()=>e[3].call(v)),h(n,"class","form-group svelte-1b109p5"),h(A,"for",N=e[1]+"-system"),h(A,"class","svelte-1b109p5"),h(R,"type","url"),h(R,"id",U=e[1]+"-system"),h(R,"placeholder","http://hl7.org/fhir/sid/us-ssn"),h(R,"class","svelte-1b109p5"),h(T,"class","form-group svelte-1b109p5"),h(M,"for",L=e[1]+"-value"),h(M,"class","svelte-1b109p5"),h(K,"type","text"),h(K,"id",X=e[1]+"-value"),h(K,"placeholder","e.g., 123-45-6789"),K.required=e[2],h(K,"class","svelte-1b109p5"),h(j,"class","form-group svelte-1b109p5"),h(l,"class","id-grid svelte-1b109p5"),h(t,"class","fhir-identifier svelte-1b109p5")},m(s,i){d(s,t,i),u(t,l),u(l,n),u(n,r),u(r,o),u(n,a),u(n,v),u(v,b),u(v,y),u(v,k),u(v,w),u(v,$),u(v,C),_(v,e[0].use,!0),u(l,S),u(l,T),u(T,A),u(A,D),u(T,O),u(T,R),x(R,e[0].system),u(l,B),u(l,j),u(j,M),u(M,Q),se&&se.m(M,null),u(j,J),u(j,K),x(K,e[0].value),u(t,Y),G(Z,t,null),te=!0,le||(ne=[g(v,"change",e[3]),g(R,"input",e[4]),g(K,"input",e[5])],le=!0)},p(e,[t]){(!te||2&t&&i!==(i=e[1]+"-use"))&&h(r,"for",i),(!te||2&t&&q!==(q=e[1]+"-use"))&&h(v,"id",q),1&t&&_(v,e[0].use),(!te||2&t&&N!==(N=e[1]+"-system"))&&h(A,"for",N),(!te||2&t&&U!==(U=e[1]+"-system"))&&h(R,"id",U),1&t&&R.value!==e[0].system&&x(R,e[0].system),e[2]?se||(se=Qe(),se.c(),se.m(M,null)):se&&(se.d(1),se=null),(!te||2&t&&L!==(L=e[1]+"-value"))&&h(M,"for",L),(!te||2&t&&X!==(X=e[1]+"-value"))&&h(K,"id",X),(!te||4&t)&&(K.required=e[2]),1&t&&K.value!==e[0].value&&x(K,e[0].value);const l={};!ee&&1&t&&(ee=!0,l.value=e[0].type,P(()=>ee=!1)),Z.$set(l)},i(e){te||(I(Z.$$.fragment,e),te=!0)},o(e){H(Z.$$.fragment,e),te=!1},d(e){e&&c(t),se&&se.d(),W(Z),le=!1,s(ne)}}}function He(e,t,l){let{value:n={use:"",type:{},system:"",value:""}}=t,{label:s="Identifier"}=t,{required:r=!1}=t;return e.$$set=e=>{"value"in e&&l(0,n=e.value),"label"in e&&l(1,s=e.label),"required"in e&&l(2,r=e.required)},e.$$.update=()=>{1&e.$$.dirty&&n.value},[n,s,r,function(){n.use=w(this),l(0,n)},function(){n.system=this.value,l(0,n)},function(){n.value=this.value,l(0,n)},function(t){e.$$.not_equal(n.type,t)&&(n.type=t,l(0,n))}]}class Le extends X{constructor(e){super(),K(this,e,He,Ie,o,{value:0,label:1,required:2},Me)}}const{window:Fe}=i;function Ve(e){a(e,"svelte-kkt8t4",'.patient-editor.svelte-kkt8t4.svelte-kkt8t4{max-width:900px;margin:0 auto}h3.svelte-kkt8t4.svelte-kkt8t4{margin-top:2rem;margin-bottom:1rem;padding-bottom:0.5rem;border-bottom:2px solid #3498db;color:#2c3e50}h3.svelte-kkt8t4.svelte-kkt8t4:first-of-type{margin-top:0}.form-group.svelte-kkt8t4.svelte-kkt8t4{margin-bottom:1.5rem}.form-group.svelte-kkt8t4>label.svelte-kkt8t4{display:block;font-weight:600;margin-bottom:0.5rem;color:#2c3e50}.form-group.svelte-kkt8t4 input[type="checkbox"].svelte-kkt8t4{margin-right:0.5rem}.form-group.svelte-kkt8t4 input[type="date"].svelte-kkt8t4,.form-group.svelte-kkt8t4 select.svelte-kkt8t4{width:100%;max-width:400px;padding:0.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}.form-group.svelte-kkt8t4 input.svelte-kkt8t4:focus,.form-group.svelte-kkt8t4 select.svelte-kkt8t4:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 3px rgba(52, 152, 219, 0.1)}.array-section.svelte-kkt8t4.svelte-kkt8t4{position:relative;margin-bottom:1rem;padding-bottom:1rem;border-bottom:1px dashed #ddd}.btn-remove.svelte-kkt8t4.svelte-kkt8t4{background:#e74c3c;color:white;border:none;border-radius:4px;padding:0.5rem 1rem;cursor:pointer;font-size:0.875rem;font-weight:500;margin-top:0.5rem}.btn-remove.svelte-kkt8t4.svelte-kkt8t4:hover:not(:disabled){background:#c0392b}.btn-add.svelte-kkt8t4.svelte-kkt8t4{background:#3498db;color:white;border:none;border-radius:4px;padding:0.75rem 1.5rem;cursor:pointer;font-size:0.875rem;font-weight:500;margin-bottom:2rem}.btn-add.svelte-kkt8t4.svelte-kkt8t4:hover:not(:disabled){background:#2980b9}.error-message.svelte-kkt8t4.svelte-kkt8t4{padding:1rem;background:#fee;border:1px solid #fcc;border-radius:4px;color:#c00;margin-bottom:1.5rem}.button-group.svelte-kkt8t4.svelte-kkt8t4{display:flex;gap:1rem;margin-top:2rem;padding-top:2rem;border-top:2px solid #ddd}.btn.svelte-kkt8t4.svelte-kkt8t4{padding:0.75rem 1.5rem;border:none;border-radius:4px;font-weight:600;cursor:pointer;transition:background 0.2s;font-size:1rem}.btn.svelte-kkt8t4.svelte-kkt8t4:disabled{opacity:0.5;cursor:not-allowed}.btn-primary.svelte-kkt8t4.svelte-kkt8t4{background:#3498db;color:white}.btn-primary.svelte-kkt8t4.svelte-kkt8t4:hover:not(:disabled){background:#2980b9}.btn-secondary.svelte-kkt8t4.svelte-kkt8t4{background:#95a5a6;color:white}.btn-secondary.svelte-kkt8t4.svelte-kkt8t4:hover:not(:disabled){background:#7f8c8d}')}function Ge(e,t,l){const n=e.slice();return n[25]=t[l],n[26]=t,n[27]=l,n}function We(e,t,l){const n=e.slice();return n[28]=t[l],n[29]=t,n[27]=l,n}function Je(e,t,l){const n=e.slice();return n[30]=t[l],n[31]=t,n[27]=l,n}function Ke(e,t,l){const n=e.slice();return n[32]=t[l],n[33]=t,n[27]=l,n}function Xe(e){let t,l,n,s,r,o,i,a,v;function b(t){e[17](t,e[27])}let y={label:"Identifier "+(e[27]+1)};function k(){return e[18](e[27])}return void 0!==e[0].identifier[e[27]]&&(y.value=e[0].identifier[e[27]]),l=new Le({props:y}),z.push(()=>F(l,"value",b)),{c(){t=f("div"),V(l.$$.fragment),s=m(),r=f("button"),o=p("× Remove Identifier"),h(r,"type","button"),h(r,"class","btn-remove svelte-kkt8t4"),r.disabled=e[2],h(t,"class","array-section svelte-kkt8t4")},m(e,n){d(e,t,n),G(l,t,null),u(t,s),u(t,r),u(r,o),i=!0,a||(v=g(r,"click",k),a=!0)},p(t,s){e=t;const o={};!n&&1&s[0]&&(n=!0,o.value=e[0].identifier[e[27]],P(()=>n=!1)),l.$set(o),(!i||4&s[0])&&(r.disabled=e[2])},i(e){i||(I(l.$$.fragment,e),i=!0)},o(e){H(l.$$.fragment,e),i=!1},d(e){e&&c(t),W(l),a=!1,v()}}}function Ye(e){let t,l,n,s,r,o,i,a,v;function b(t){e[19](t,e[27])}let y={label:"Name "+(e[27]+1)};function k(){return e[20](e[27])}return void 0!==e[0].name[e[27]]&&(y.value=e[0].name[e[27]]),l=new ce({props:y}),z.push(()=>F(l,"value",b)),{c(){t=f("div"),V(l.$$.fragment),s=m(),r=f("button"),o=p("× Remove Name"),h(r,"type","button"),h(r,"class","btn-remove svelte-kkt8t4"),r.disabled=e[2],h(t,"class","array-section svelte-kkt8t4")},m(e,n){d(e,t,n),G(l,t,null),u(t,s),u(t,r),u(r,o),i=!0,a||(v=g(r,"click",k),a=!0)},p(t,s){e=t;const o={};!n&&1&s[0]&&(n=!0,o.value=e[0].name[e[27]],P(()=>n=!1)),l.$set(o),(!i||4&s[0])&&(r.disabled=e[2])},i(e){i||(I(l.$$.fragment,e),i=!0)},o(e){H(l.$$.fragment,e),i=!1},d(e){e&&c(t),W(l),a=!1,v()}}}function Ze(e){let t,l,n,s,r,o,i,a,v;function b(t){e[21](t,e[27])}let y={label:"Contact "+(e[27]+1)};function k(){return e[22](e[27])}return void 0!==e[0].telecom[e[27]]&&(y.value=e[0].telecom[e[27]]),l=new Ce({props:y}),z.push(()=>F(l,"value",b)),{c(){t=f("div"),V(l.$$.fragment),s=m(),r=f("button"),o=p("× Remove Contact"),h(r,"type","button"),h(r,"class","btn-remove svelte-kkt8t4"),r.disabled=e[2],h(t,"class","array-section svelte-kkt8t4")},m(e,n){d(e,t,n),G(l,t,null),u(t,s),u(t,r),u(r,o),i=!0,a||(v=g(r,"click",k),a=!0)},p(t,s){e=t;const o={};!n&&1&s[0]&&(n=!0,o.value=e[0].telecom[e[27]],P(()=>n=!1)),l.$set(o),(!i||4&s[0])&&(r.disabled=e[2])},i(e){i||(I(l.$$.fragment,e),i=!0)},o(e){H(l.$$.fragment,e),i=!1},d(e){e&&c(t),W(l),a=!1,v()}}}function et(e){let t,l,n,s,r,o,i,a,v;function b(t){e[23](t,e[27])}let y={label:"Address "+(e[27]+1)};function k(){return e[24](e[27])}return void 0!==e[0].address[e[27]]&&(y.value=e[0].address[e[27]]),l=new ke({props:y}),z.push(()=>F(l,"value",b)),{c(){t=f("div"),V(l.$$.fragment),s=m(),r=f("button"),o=p("× Remove Address"),h(r,"type","button"),h(r,"class","btn-remove svelte-kkt8t4"),r.disabled=e[2],h(t,"class","array-section svelte-kkt8t4")},m(e,n){d(e,t,n),G(l,t,null),u(t,s),u(t,r),u(r,o),i=!0,a||(v=g(r,"click",k),a=!0)},p(t,s){e=t;const o={};!n&&1&s[0]&&(n=!0,o.value=e[0].address[e[27]],P(()=>n=!1)),l.$set(o),(!i||4&s[0])&&(r.disabled=e[2])},i(e){i||(I(l.$$.fragment,e),i=!0)},o(e){H(l.$$.fragment,e),i=!1},d(e){e&&c(t),W(l),a=!1,v()}}}function tt(e){let t,l,n,s;return{c(){t=f("div"),l=f("strong"),l.textContent="Error:",n=m(),s=p(e[1]),h(t,"class","error-message svelte-kkt8t4")},m(e,r){d(e,t,r),u(t,l),u(t,n),u(t,s)},p(e,t){2&t[0]&&k(s,e[1])},d(e){e&&c(t)}}}function lt(e){let t,l,n,r,o,i,a,y,w,$,C,q,z,S,T,A,D,P,N,O,R,U,B,j,F,V,G,W,J,K,X,Y,Z,ee,te,le,ne,se,re,oe,ie,ue,ae,de,ce,ve,fe,pe,me,ge,be,he,ye,ke,xe,_e,we,$e,Ce=e[2]?"Saving...":"Save Patient",qe=L(e[0].identifier),ze=[];for(let t=0;t<qe.length;t+=1)ze[t]=Xe(Ke(e,qe,t));const Se=e=>H(ze[e],1,1,()=>{ze[e]=null});let Te=L(e[0].name),Ae=[];for(let t=0;t<Te.length;t+=1)Ae[t]=Ye(Je(e,Te,t));const De=e=>H(Ae[e],1,1,()=>{Ae[e]=null});let Ee=L(e[0].telecom),Pe=[];for(let t=0;t<Ee.length;t+=1)Pe[t]=Ze(We(e,Ee,t));const Ne=e=>H(Pe[e],1,1,()=>{Pe[e]=null});let Oe=L(e[0].address),Re=[];for(let t=0;t<Oe.length;t+=1)Re[t]=et(Ge(e,Oe,t));const Ue=e=>H(Re[e],1,1,()=>{Re[e]=null});let Be=e[1]&&tt(e);return{c(){t=f("div"),l=f("form"),n=f("h3"),n.textContent="Demographics",r=m(),o=f("div"),i=f("label"),a=f("input"),y=p("\n        Active"),w=m(),$=f("div"),C=f("label"),C.textContent="Gender",q=m(),z=f("select"),S=f("option"),S.textContent="-- Select --",T=f("option"),T.textContent="Male",A=f("option"),A.textContent="Female",D=f("option"),D.textContent="Other",P=f("option"),P.textContent="Unknown",N=m(),O=f("div"),R=f("label"),R.textContent="Birth Date",U=m(),B=f("input"),j=m(),F=f("h3"),F.textContent="Identifiers",V=m();for(let e=0;e<ze.length;e+=1)ze[e].c();G=m(),W=f("button"),J=p("+ Add Identifier"),K=m(),X=f("h3"),X.textContent="Names",Y=m();for(let e=0;e<Ae.length;e+=1)Ae[e].c();Z=m(),ee=f("button"),te=p("+ Add Name"),le=m(),ne=f("h3"),ne.textContent="Contact",se=m();for(let e=0;e<Pe.length;e+=1)Pe[e].c();re=m(),oe=f("button"),ie=p("+ Add Contact"),ue=m(),ae=f("h3"),ae.textContent="Addresses",de=m();for(let e=0;e<Re.length;e+=1)Re[e].c();ce=m(),ve=f("button"),fe=p("+ Add Address"),pe=m(),Be&&Be.c(),me=m(),ge=f("div"),be=f("button"),he=p(Ce),ye=m(),ke=f("button"),xe=p("Cancel"),h(n,"class","svelte-kkt8t4"),h(a,"type","checkbox"),h(a,"id","active"),a.disabled=e[2],h(a,"class","svelte-kkt8t4"),h(i,"for","active"),h(i,"class","svelte-kkt8t4"),h(o,"class","form-group svelte-kkt8t4"),h(C,"for","gender"),h(C,"class","svelte-kkt8t4"),S.__value="",x(S,S.__value),T.__value="male",x(T,T.__value),A.__value="female",x(A,A.__value),D.__value="other",x(D,D.__value),P.__value="unknown",x(P,P.__value),h(z,"id","gender"),z.disabled=e[2],h(z,"class","svelte-kkt8t4"),void 0===e[0].gender&&E(()=>e[15].call(z)),h($,"class","form-group svelte-kkt8t4"),h(R,"for","birthDate"),h(R,"class","svelte-kkt8t4"),h(B,"type","date"),h(B,"id","birthDate"),B.disabled=e[2],h(B,"class","svelte-kkt8t4"),h(O,"class","form-group svelte-kkt8t4"),h(F,"class","svelte-kkt8t4"),h(W,"type","button"),h(W,"class","btn-add svelte-kkt8t4"),W.disabled=e[2],h(X,"class","svelte-kkt8t4"),h(ee,"type","button"),h(ee,"class","btn-add svelte-kkt8t4"),ee.disabled=e[2],h(ne,"class","svelte-kkt8t4"),h(oe,"type","button"),h(oe,"class","btn-add svelte-kkt8t4"),oe.disabled=e[2],h(ae,"class","svelte-kkt8t4"),h(ve,"type","button"),h(ve,"class","btn-add svelte-kkt8t4"),ve.disabled=e[2],h(be,"type","submit"),h(be,"class","btn btn-primary svelte-kkt8t4"),be.disabled=e[2],h(ke,"type","button"),h(ke,"class","btn btn-secondary svelte-kkt8t4"),ke.disabled=e[2],h(ge,"class","button-group svelte-kkt8t4"),h(t,"class","patient-editor svelte-kkt8t4")},m(s,c){d(s,t,c),u(t,l),u(l,n),u(l,r),u(l,o),u(o,i),u(i,a),a.checked=e[0].active,u(i,y),u(l,w),u(l,$),u($,C),u($,q),u($,z),u(z,S),u(z,T),u(z,A),u(z,D),u(z,P),_(z,e[0].gender,!0),u(l,N),u(l,O),u(O,R),u(O,U),u(O,B),x(B,e[0].birthDate),u(l,j),u(l,F),u(l,V);for(let e=0;e<ze.length;e+=1)ze[e]&&ze[e].m(l,null);u(l,G),u(l,W),u(W,J),u(l,K),u(l,X),u(l,Y);for(let e=0;e<Ae.length;e+=1)Ae[e]&&Ae[e].m(l,null);u(l,Z),u(l,ee),u(ee,te),u(l,le),u(l,ne),u(l,se);for(let e=0;e<Pe.length;e+=1)Pe[e]&&Pe[e].m(l,null);u(l,re),u(l,oe),u(oe,ie),u(l,ue),u(l,ae),u(l,de);for(let e=0;e<Re.length;e+=1)Re[e]&&Re[e].m(l,null);u(l,ce),u(l,ve),u(ve,fe),u(l,pe),Be&&Be.m(l,null),u(l,me),u(l,ge),u(ge,be),u(be,he),u(ge,ye),u(ge,ke),u(ke,xe),_e=!0,we||($e=[g(Fe,"save-complete",e[12]),g(Fe,"save-error",e[13]),g(a,"change",e[14]),g(z,"change",e[15]),g(B,"input",e[16]),g(W,"click",e[9]),g(ee,"click",e[3]),g(oe,"click",e[5]),g(ve,"click",e[7]),g(ke,"click",nt),g(l,"submit",b(e[11]))],we=!0)},p(e,t){if((!_e||4&t[0])&&(a.disabled=e[2]),1&t[0]&&(a.checked=e[0].active),(!_e||4&t[0])&&(z.disabled=e[2]),1&t[0]&&_(z,e[0].gender),(!_e||4&t[0])&&(B.disabled=e[2]),1&t[0]&&x(B,e[0].birthDate),1029&t[0]){let n;for(qe=L(e[0].identifier),n=0;n<qe.length;n+=1){const s=Ke(e,qe,n);ze[n]?(ze[n].p(s,t),I(ze[n],1)):(ze[n]=Xe(s),ze[n].c(),I(ze[n],1),ze[n].m(l,G))}for(M(),n=qe.length;n<ze.length;n+=1)Se(n);Q()}if((!_e||4&t[0])&&(W.disabled=e[2]),21&t[0]){let n;for(Te=L(e[0].name),n=0;n<Te.length;n+=1){const s=Je(e,Te,n);Ae[n]?(Ae[n].p(s,t),I(Ae[n],1)):(Ae[n]=Ye(s),Ae[n].c(),I(Ae[n],1),Ae[n].m(l,Z))}for(M(),n=Te.length;n<Ae.length;n+=1)De(n);Q()}if((!_e||4&t[0])&&(ee.disabled=e[2]),69&t[0]){let n;for(Ee=L(e[0].telecom),n=0;n<Ee.length;n+=1){const s=We(e,Ee,n);Pe[n]?(Pe[n].p(s,t),I(Pe[n],1)):(Pe[n]=Ze(s),Pe[n].c(),I(Pe[n],1),Pe[n].m(l,re))}for(M(),n=Ee.length;n<Pe.length;n+=1)Ne(n);Q()}if((!_e||4&t[0])&&(oe.disabled=e[2]),261&t[0]){let n;for(Oe=L(e[0].address),n=0;n<Oe.length;n+=1){const s=Ge(e,Oe,n);Re[n]?(Re[n].p(s,t),I(Re[n],1)):(Re[n]=et(s),Re[n].c(),I(Re[n],1),Re[n].m(l,ce))}for(M(),n=Oe.length;n<Re.length;n+=1)Ue(n);Q()}(!_e||4&t[0])&&(ve.disabled=e[2]),e[1]?Be?Be.p(e,t):(Be=tt(e),Be.c(),Be.m(l,me)):Be&&(Be.d(1),Be=null),(!_e||4&t[0])&&Ce!==(Ce=e[2]?"Saving...":"Save Patient")&&k(he,Ce),(!_e||4&t[0])&&(be.disabled=e[2]),(!_e||4&t[0])&&(ke.disabled=e[2])},i(e){if(!_e){for(let e=0;e<qe.length;e+=1)I(ze[e]);for(let e=0;e<Te.length;e+=1)I(Ae[e]);for(let e=0;e<Ee.length;e+=1)I(Pe[e]);for(let e=0;e<Oe.length;e+=1)I(Re[e]);_e=!0}},o(e){ze=ze.filter(Boolean);for(let e=0;e<ze.length;e+=1)H(ze[e]);Ae=Ae.filter(Boolean);for(let e=0;e<Ae.length;e+=1)H(Ae[e]);Pe=Pe.filter(Boolean);for(let e=0;e<Pe.length;e+=1)H(Pe[e]);Re=Re.filter(Boolean);for(let e=0;e<Re.length;e+=1)H(Re[e]);_e=!1},d(e){e&&c(t),v(ze,e),v(Ae,e),v(Pe,e),v(Re,e),Be&&Be.d(),we=!1,s($e)}}}function nt(){window.history.back()}function st(e,t,l){let{resource:n={resourceType:"Patient",id:"",identifier:[],active:!0,name:[],telecom:[],gender:"",birthDate:"",address:[]}}=t,s="",r=!1;function o(e){l(0,n.name=n.name.filter((t,l)=>l!==e),n)}function i(e){l(0,n.telecom=n.telecom.filter((t,l)=>l!==e),n)}function u(e){l(0,n.address=n.address.filter((t,l)=>l!==e),n)}function a(e){l(0,n.identifier=n.identifier.filter((t,l)=>l!==e),n)}return e.$$set=e=>{"resource"in e&&l(0,n=e.resource)},[n,s,r,function(){l(0,n.name=[...n.name,{use:"",text:"",family:"",given:[],prefix:[],suffix:[]}],n)},o,function(){l(0,n.telecom=[...n.telecom,{system:"",value:"",use:"",rank:null}],n)},i,function(){l(0,n.address=[...n.address,{use:"",type:"",text:"",line:[],city:"",state:"",postalCode:"",country:""}],n)},u,function(){l(0,n.identifier=[...n.identifier,{use:"",type:{},system:"",value:""}],n)},a,function(){l(1,s=""),l(2,r=!0);const e=new CustomEvent("save",{detail:n,bubbles:!0,composed:!0});window.dispatchEvent(e)},function(e){l(2,r=!1)},function(e){l(2,r=!1),l(1,s=e.detail.message)},function(){n.active=this.checked,l(0,n)},function(){n.gender=w(this),l(0,n)},function(){n.birthDate=this.value,l(0,n)},function(t,s){e.$$.not_equal(n.identifier[s],t)&&(n.identifier[s]=t,l(0,n))},e=>a(e),function(t,s){e.$$.not_equal(n.name[s],t)&&(n.name[s]=t,l(0,n))},e=>o(e),function(t,s){e.$$.not_equal(n.telecom[s],t)&&(n.telecom[s]=t,l(0,n))},e=>i(e),function(t,s){e.$$.not_equal(n.address[s],t)&&(n.address[s]=t,l(0,n))},e=>u(e)]}function rt(e){a(e,"svelte-gys83z",".fhir-quantity.svelte-gys83z.svelte-gys83z{border:1px solid #ddd;border-radius:4px;margin-bottom:1rem;background:white}.fhir-header.svelte-gys83z.svelte-gys83z{display:flex;align-items:center;gap:0.5rem;padding:0.75rem 1rem;background:#f8f9fa;border-bottom:1px solid #ddd}.collapse-btn.svelte-gys83z.svelte-gys83z{background:none;border:none;cursor:pointer;font-size:0.875rem;padding:0;width:20px;text-align:left}.fhir-label.svelte-gys83z.svelte-gys83z{font-weight:600;margin:0;font-size:0.875rem}.summary.svelte-gys83z.svelte-gys83z{color:#666;font-size:0.875rem;font-style:italic}.required.svelte-gys83z.svelte-gys83z{color:#e74c3c}.fhir-content.svelte-gys83z.svelte-gys83z{padding:1rem}.quantity-grid.svelte-gys83z.svelte-gys83z{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.form-group.svelte-gys83z.svelte-gys83z{margin-bottom:1rem}.form-group.svelte-gys83z>label.svelte-gys83z{display:block;font-weight:500;margin-bottom:0.5rem;font-size:0.875rem;color:#555}.form-group.svelte-gys83z input.svelte-gys83z{width:100%;padding:0.5rem;border:1px solid #ddd;border-radius:4px;font-size:0.875rem}")}function ot(e){let t;return{c(){t=f("span"),t.textContent="*",h(t,"class","required svelte-gys83z")},m(e,l){d(e,t,l)},d(e){e&&c(t)}}}function it(e){let t,l;return{c(){t=f("span"),l=p(e[4]),h(t,"class","summary svelte-gys83z")},m(e,n){d(e,t,n),u(t,l)},p(e,t){16&t&&k(l,e[4])},d(e){e&&c(t)}}}function ut(e){let t,l,n,r,o,i,a,v,b,k,_,w,$,C,q,z,S,T,A,D,E,P,N,O,R,U,B,j,M,Q,I,H,L,F,V;return{c(){t=f("div"),l=f("div"),n=f("div"),r=f("label"),o=p("Value"),a=m(),v=f("input"),k=m(),_=f("div"),w=f("label"),$=p("Unit"),q=m(),z=f("input"),T=m(),A=f("div"),D=f("label"),E=p("System"),N=m(),O=f("input"),U=m(),B=f("div"),j=f("label"),M=p("Code"),I=m(),H=f("input"),h(r,"for",i=e[2]+"-value"),h(r,"class","svelte-gys83z"),h(v,"type","number"),h(v,"id",b=e[2]+"-value"),h(v,"step","any"),h(v,"placeholder","e.g., 85.5"),h(v,"class","svelte-gys83z"),h(n,"class","form-group svelte-gys83z"),h(w,"for",C=e[2]+"-unit"),h(w,"class","svelte-gys83z"),h(z,"type","text"),h(z,"id",S=e[2]+"-unit"),h(z,"placeholder","e.g., kg, cm, mg/dL"),h(z,"class","svelte-gys83z"),h(_,"class","form-group svelte-gys83z"),h(l,"class","quantity-grid svelte-gys83z"),h(D,"for",P=e[2]+"-system"),h(D,"class","svelte-gys83z"),h(O,"type","url"),h(O,"id",R=e[2]+"-system"),h(O,"placeholder","http://unitsofmeasure.org"),h(O,"class","svelte-gys83z"),h(A,"class","form-group svelte-gys83z"),h(j,"for",Q=e[2]+"-code"),h(j,"class","svelte-gys83z"),h(H,"type","text"),h(H,"id",L=e[2]+"-code"),h(H,"placeholder","UCUM code (often same as unit)"),h(H,"class","svelte-gys83z"),h(B,"class","form-group svelte-gys83z"),h(t,"class","fhir-content svelte-gys83z")},m(s,i){d(s,t,i),u(t,l),u(l,n),u(n,r),u(r,o),u(n,a),u(n,v),x(v,e[0].value),u(l,k),u(l,_),u(_,w),u(w,$),u(_,q),u(_,z),x(z,e[0].unit),u(t,T),u(t,A),u(A,D),u(D,E),u(A,N),u(A,O),x(O,e[0].system),u(t,U),u(t,B),u(B,j),u(j,M),u(B,I),u(B,H),x(H,e[0].code),F||(V=[g(v,"input",e[6]),g(z,"input",e[7]),g(O,"input",e[8]),g(H,"input",e[9])],F=!0)},p(e,t){4&t&&i!==(i=e[2]+"-value")&&h(r,"for",i),4&t&&b!==(b=e[2]+"-value")&&h(v,"id",b),1&t&&y(v.value)!==e[0].value&&x(v,e[0].value),4&t&&C!==(C=e[2]+"-unit")&&h(w,"for",C),4&t&&S!==(S=e[2]+"-unit")&&h(z,"id",S),1&t&&z.value!==e[0].unit&&x(z,e[0].unit),4&t&&P!==(P=e[2]+"-system")&&h(D,"for",P),4&t&&R!==(R=e[2]+"-system")&&h(O,"id",R),1&t&&O.value!==e[0].system&&x(O,e[0].system),4&t&&Q!==(Q=e[2]+"-code")&&h(j,"for",Q),4&t&&L!==(L=e[2]+"-code")&&h(H,"id",L),1&t&&H.value!==e[0].code&&x(H,e[0].code)},d(e){e&&c(t),F=!1,s(V)}}}function at(e){let l,n,s,r,o,i,a,v,b,y,x,_,w=e[1]?"▶":"▼",$=e[3]&&ot(),C=e[1]&&it(e),q=!e[1]&&ut(e);return{c(){l=f("div"),n=f("div"),s=f("button"),r=p(w),o=m(),i=f("label"),a=p(e[2]),v=m(),$&&$.c(),b=m(),C&&C.c(),y=m(),q&&q.c(),h(s,"type","button"),h(s,"class","collapse-btn svelte-gys83z"),h(i,"class","fhir-label svelte-gys83z"),h(n,"class","fhir-header svelte-gys83z"),h(l,"class","fhir-quantity svelte-gys83z")},m(t,c){d(t,l,c),u(l,n),u(n,s),u(s,r),u(n,o),u(n,i),u(i,a),u(i,v),$&&$.m(i,null),u(n,b),C&&C.m(n,null),u(l,y),q&&q.m(l,null),x||(_=g(s,"click",e[5]),x=!0)},p(e,[t]){2&t&&w!==(w=e[1]?"▶":"▼")&&k(r,w),4&t&&k(a,e[2]),e[3]?$||($=ot(),$.c(),$.m(i,null)):$&&($.d(1),$=null),e[1]?C?C.p(e,t):(C=it(e),C.c(),C.m(n,null)):C&&(C.d(1),C=null),e[1]?q&&(q.d(1),q=null):q?q.p(e,t):(q=ut(e),q.c(),q.m(l,null))},i:t,o:t,d(e){e&&c(l),$&&$.d(),C&&C.d(),q&&q.d(),x=!1,_()}}}function dt(e,t,l){let n,{value:s={value:null,unit:"",system:"http://unitsofmeasure.org",code:""}}=t,{label:r="Quantity"}=t,{required:o=!1}=t,{collapsed:i=!0}=t;return e.$$set=e=>{"value"in e&&l(0,s=e.value),"label"in e&&l(2,r=e.label),"required"in e&&l(3,o=e.required),"collapsed"in e&&l(1,i=e.collapsed)},e.$$.update=()=>{1&e.$$.dirty&&"http://unitsofmeasure.org"===s.system&&s.unit&&!s.code&&l(0,s.code=s.unit,s),1&e.$$.dirty&&l(4,n=null!=s.value?`${s.value} ${s.unit||s.code||""}`.trim():"(empty)")},[s,i,r,o,n,function(){l(1,i=!i)},function(){s.value=y(this.value),l(0,s)},function(){s.unit=this.value,l(0,s)},function(){s.system=this.value,l(0,s)},function(){s.code=this.value,l(0,s)}]}class ct extends X{constructor(e){super(),K(this,e,dt,at,o,{value:0,label:2,required:3,collapsed:1},rt)}}function vt(e){a(e,"svelte-1qovn75",".fhir-reference.svelte-1qovn75.svelte-1qovn75{border:1px solid #ddd;border-radius:4px;padding:1rem;margin-bottom:1rem;background:white}.fhir-label.svelte-1qovn75.svelte-1qovn75{font-weight:600;display:block;margin-bottom:0.75rem;font-size:0.875rem}.required.svelte-1qovn75.svelte-1qovn75{color:#e74c3c}.reference-fields.svelte-1qovn75.svelte-1qovn75{display:grid;grid-template-columns:2fr 1fr;gap:1rem}.form-group.svelte-1qovn75>label.svelte-1qovn75{display:block;font-weight:500;margin-bottom:0.5rem;font-size:0.875rem;color:#555}.form-group.svelte-1qovn75 input.svelte-1qovn75{width:100%;padding:0.5rem;border:1px solid #ddd;border-radius:4px;font-size:0.875rem}")}function ft(e){let t;return{c(){t=f("span"),t.textContent="*",h(t,"class","required svelte-1qovn75")},m(e,l){d(e,t,l)},d(e){e&&c(t)}}}function pt(e){let l,n,r,o,i,a,v,b,y,_,w,$,C,q,z,S,T,A,D,E,P,N,O,R=e[2]&&ft();return{c(){l=f("div"),n=f("label"),r=p(e[1]),o=m(),R&&R.c(),i=m(),a=f("div"),v=f("div"),b=f("label"),y=p("Reference"),w=m(),$=f("input"),q=m(),z=f("div"),S=f("label"),T=p("Display (optional)"),D=m(),E=f("input"),h(n,"class","fhir-label svelte-1qovn75"),h(b,"for",_=e[1]+"-reference"),h(b,"class","svelte-1qovn75"),h($,"type","text"),h($,"id",C=e[1]+"-reference"),h($,"placeholder",e[3]),$.required=e[2],h($,"class","svelte-1qovn75"),h(v,"class","form-group svelte-1qovn75"),h(S,"for",A=e[1]+"-display"),h(S,"class","svelte-1qovn75"),h(E,"type","text"),h(E,"id",P=e[1]+"-display"),h(E,"placeholder","Human-readable name"),h(E,"class","svelte-1qovn75"),h(z,"class","form-group svelte-1qovn75"),h(a,"class","reference-fields svelte-1qovn75"),h(l,"class","fhir-reference svelte-1qovn75")},m(t,s){d(t,l,s),u(l,n),u(n,r),u(n,o),R&&R.m(n,null),u(l,i),u(l,a),u(a,v),u(v,b),u(b,y),u(v,w),u(v,$),x($,e[0].reference),u(a,q),u(a,z),u(z,S),u(S,T),u(z,D),u(z,E),x(E,e[0].display),N||(O=[g($,"input",e[5]),g(E,"input",e[6])],N=!0)},p(e,[t]){2&t&&k(r,e[1]),e[2]?R||(R=ft(),R.c(),R.m(n,null)):R&&(R.d(1),R=null),2&t&&_!==(_=e[1]+"-reference")&&h(b,"for",_),2&t&&C!==(C=e[1]+"-reference")&&h($,"id",C),8&t&&h($,"placeholder",e[3]),4&t&&($.required=e[2]),1&t&&$.value!==e[0].reference&&x($,e[0].reference),2&t&&A!==(A=e[1]+"-display")&&h(S,"for",A),2&t&&P!==(P=e[1]+"-display")&&h(E,"id",P),1&t&&E.value!==e[0].display&&x(E,e[0].display)},i:t,o:t,d(e){e&&c(l),R&&R.d(),N=!1,s(O)}}}function mt(e,t,l){let n,{value:s={reference:"",display:""}}=t,{label:r="Reference"}=t,{resourceType:o=null}=t,{required:i=!1}=t;return e.$$set=e=>{"value"in e&&l(0,s=e.value),"label"in e&&l(1,r=e.label),"resourceType"in e&&l(4,o=e.resourceType),"required"in e&&l(2,i=e.required)},e.$$.update=()=>{16&e.$$.dirty&&l(3,n=o?`${o}/[id]`:"ResourceType/[id]")},[s,r,i,n,o,function(){s.reference=this.value,l(0,s)},function(){s.display=this.value,l(0,s)}]}class gt extends X{constructor(e){super(),K(this,e,mt,pt,o,{value:0,label:1,resourceType:4,required:2},vt)}}const{window:bt}=i;function ht(e){a(e,"svelte-1kvkf21",".observation-editor.svelte-1kvkf21.svelte-1kvkf21{max-width:800px;margin:0 auto}.form-group.svelte-1kvkf21.svelte-1kvkf21{margin-bottom:1.5rem}.form-group.svelte-1kvkf21>label.svelte-1kvkf21{display:block;font-weight:600;margin-bottom:0.5rem;color:#2c3e50}.form-group.svelte-1kvkf21 input.svelte-1kvkf21,.form-group.svelte-1kvkf21 select.svelte-1kvkf21{width:100%;padding:0.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}.form-group.svelte-1kvkf21 input.svelte-1kvkf21:focus,.form-group.svelte-1kvkf21 select.svelte-1kvkf21:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 3px rgba(52, 152, 219, 0.1)}.required.svelte-1kvkf21.svelte-1kvkf21{color:#e74c3c}.error-message.svelte-1kvkf21.svelte-1kvkf21{padding:1rem;background:#fee;border:1px solid #fcc;border-radius:4px;color:#c00;margin-bottom:1.5rem}.button-group.svelte-1kvkf21.svelte-1kvkf21{display:flex;gap:1rem;margin-top:2rem}.btn.svelte-1kvkf21.svelte-1kvkf21{padding:0.75rem 1.5rem;border:none;border-radius:4px;font-weight:600;cursor:pointer;transition:background 0.2s;font-size:1rem}.btn.svelte-1kvkf21.svelte-1kvkf21:disabled{opacity:0.5;cursor:not-allowed}.btn-primary.svelte-1kvkf21.svelte-1kvkf21{background:#3498db;color:white}.btn-primary.svelte-1kvkf21.svelte-1kvkf21:hover:not(:disabled){background:#2980b9}.btn-secondary.svelte-1kvkf21.svelte-1kvkf21{background:#95a5a6;color:white}.btn-secondary.svelte-1kvkf21.svelte-1kvkf21:hover:not(:disabled){background:#7f8c8d}")}function yt(e){let t,l,n,s;return{c(){t=f("div"),l=f("strong"),l.textContent="Error:",n=m(),s=p(e[1]),h(t,"class","error-message svelte-1kvkf21")},m(e,r){d(e,t,r),u(t,l),u(t,n),u(t,s)},p(e,t){2&t&&k(s,e[1])},d(e){e&&c(t)}}}function kt(e){let t,l,n,r,o,i,a,v,y,w,$,C,q,S,T,A,D,N,O,R,U,B,j,M,Q,L,J,K,X,Y,Z,ee,te,le,ne,se,re,oe,ie,ue=e[2]?"Saving...":"Save Observation";function ae(t){e[7](t)}let de={label:"Code",required:!0};function ce(t){e[8](t)}void 0!==e[0].code&&(de.value=e[0].code),A=new je({props:de}),z.push(()=>F(A,"value",ae));let ve={label:"Subject",resourceType:"Patient",required:!0};function fe(t){e[10](t)}void 0!==e[0].subject&&(ve.value=e[0].subject),O=new gt({props:ve}),z.push(()=>F(O,"value",ce));let pe={label:"Value (Quantity)"};void 0!==e[0].valueQuantity&&(pe.value=e[0].valueQuantity),J=new ct({props:pe}),z.push(()=>F(J,"value",fe));let me=e[1]&&yt(e);return{c(){t=f("div"),l=f("form"),n=f("div"),r=f("label"),r.innerHTML='Status <span class="required svelte-1kvkf21">*</span>',o=m(),i=f("select"),a=f("option"),a.textContent="Registered",v=f("option"),v.textContent="Preliminary",y=f("option"),y.textContent="Final",w=f("option"),w.textContent="Amended",$=f("option"),$.textContent="Corrected",C=f("option"),C.textContent="Cancelled",q=f("option"),q.textContent="Entered in Error",S=f("option"),S.textContent="Unknown",T=m(),V(A.$$.fragment),N=m(),V(O.$$.fragment),U=m(),B=f("div"),j=f("label"),j.textContent="Effective Date/Time",M=m(),Q=f("input"),L=m(),V(J.$$.fragment),X=m(),me&&me.c(),Y=m(),Z=f("div"),ee=f("button"),te=p(ue),le=m(),ne=f("button"),se=p("Cancel"),h(r,"for","status"),h(r,"class","svelte-1kvkf21"),a.__value="registered",x(a,a.__value),v.__value="preliminary",x(v,v.__value),y.__value="final",x(y,y.__value),w.__value="amended",x(w,w.__value),$.__value="corrected",x($,$.__value),C.__value="cancelled",x(C,C.__value),q.__value="entered-in-error",x(q,q.__value),S.__value="unknown",x(S,S.__value),h(i,"id","status"),i.required=!0,i.disabled=e[2],h(i,"class","svelte-1kvkf21"),void 0===e[0].status&&E(()=>e[6].call(i)),h(n,"class","form-group svelte-1kvkf21"),h(j,"for","effectiveDateTime"),h(j,"class","svelte-1kvkf21"),h(Q,"type","datetime-local"),h(Q,"id","effectiveDateTime"),Q.disabled=e[2],h(Q,"class","svelte-1kvkf21"),h(B,"class","form-group svelte-1kvkf21"),h(ee,"type","submit"),h(ee,"class","btn btn-primary svelte-1kvkf21"),ee.disabled=e[2],h(ne,"type","button"),h(ne,"class","btn btn-secondary svelte-1kvkf21"),ne.disabled=e[2],h(Z,"class","button-group svelte-1kvkf21"),h(t,"class","observation-editor svelte-1kvkf21")},m(s,c){d(s,t,c),u(t,l),u(l,n),u(n,r),u(n,o),u(n,i),u(i,a),u(i,v),u(i,y),u(i,w),u(i,$),u(i,C),u(i,q),u(i,S),_(i,e[0].status,!0),u(l,T),G(A,l,null),u(l,N),G(O,l,null),u(l,U),u(l,B),u(B,j),u(B,M),u(B,Q),x(Q,e[0].effectiveDateTime),u(l,L),G(J,l,null),u(l,X),me&&me.m(l,null),u(l,Y),u(l,Z),u(Z,ee),u(ee,te),u(Z,le),u(Z,ne),u(ne,se),re=!0,oe||(ie=[g(bt,"save-complete",e[4]),g(bt,"save-error",e[5]),g(i,"change",e[6]),g(Q,"input",e[9]),g(ne,"click",xt),g(l,"submit",b(e[3]))],oe=!0)},p(e,[t]){(!re||4&t)&&(i.disabled=e[2]),1&t&&_(i,e[0].status);const n={};!D&&1&t&&(D=!0,n.value=e[0].code,P(()=>D=!1)),A.$set(n);const s={};!R&&1&t&&(R=!0,s.value=e[0].subject,P(()=>R=!1)),O.$set(s),(!re||4&t)&&(Q.disabled=e[2]),1&t&&x(Q,e[0].effectiveDateTime);const r={};!K&&1&t&&(K=!0,r.value=e[0].valueQuantity,P(()=>K=!1)),J.$set(r),e[1]?me?me.p(e,t):(me=yt(e),me.c(),me.m(l,Y)):me&&(me.d(1),me=null),(!re||4&t)&&ue!==(ue=e[2]?"Saving...":"Save Observation")&&k(te,ue),(!re||4&t)&&(ee.disabled=e[2]),(!re||4&t)&&(ne.disabled=e[2])},i(e){re||(I(A.$$.fragment,e),I(O.$$.fragment,e),I(J.$$.fragment,e),re=!0)},o(e){H(A.$$.fragment,e),H(O.$$.fragment,e),H(J.$$.fragment,e),re=!1},d(e){e&&c(t),W(A),W(O),W(J),me&&me.d(),oe=!1,s(ie)}}}function xt(){window.history.back()}function _t(e,t,l){let{resource:n={resourceType:"Observation",id:"",status:"final",code:{text:"",coding:[]},subject:{reference:""},effectiveDateTime:"",valueQuantity:{value:null,unit:"",system:"http://unitsofmeasure.org",code:""}}}=t,s="",r=!1;return e.$$set=e=>{"resource"in e&&l(0,n=e.resource)},[n,s,r,function(){l(1,s=""),l(2,r=!0);const e=new CustomEvent("save",{detail:n,bubbles:!0,composed:!0});window.dispatchEvent(e)},function(e){l(2,r=!1)},function(e){l(2,r=!1),l(1,s=e.detail.message)},function(){n.status=w(this),l(0,n)},function(t){e.$$.not_equal(n.code,t)&&(n.code=t,l(0,n))},function(t){e.$$.not_equal(n.subject,t)&&(n.subject=t,l(0,n))},function(){n.effectiveDateTime=this.value,l(0,n)},function(t){e.$$.not_equal(n.valueQuantity,t)&&(n.valueQuantity=t,l(0,n))}]}return e.Address=ke,e.CodeableConcept=je,e.Coding=Ae,e.ContactPoint=Ce,e.HumanName=ce,e.Identifier=Le,e.ObservationEditor=class extends X{constructor(e){super(),K(this,e,_t,kt,o,{resource:0},ht)}},e.PatientEditor=class extends X{constructor(e){super(),K(this,e,st,lt,o,{resource:0},Ve,[-1,-1])}},e.Quantity=ct,e.Reference=gt,e}({});
